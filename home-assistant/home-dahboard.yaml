decluttering_templates:
  navigation_header:
    card:
      type: custom:stack-in-card
      mode: vertical
      cards:
        - type: horizontal-stack
          cards:
            - type: custom:mushroom-template-card
              primary: ''
              secondary: ''
              icon: |-
                {{ 
                'mdi:home' if states('sensor.is_anyone_home') == 'True' 
                else 'mdi:home-off' 
                }}
              layout: vertical
              tap_action:
                action: navigate
                navigation_path: /dashboard-home/home
              icon_color: |-
                {{ 
                'green' if states('sensor.is_anyone_home') == 'True' 
                else 'red' 
                }}
              hold_action:
                action: none
              double_tap_action:
                action: none
              fill_container: true
              badge_icon: >-
                {% set people_at_home=states('sensor.number_of_people_home') |
                int %}

                {{ 'mdi:numeric-' ~ people_at_home if people_at_home > 0 else ''
                }}
              badge_color: orange
              multiline_secondary: false
            - type: custom:mushroom-light-card
              entity: light.group_all
              secondary_info: none
              show_brightness_control: false
              show_color_temp_control: false
              use_light_color: true
              collapsible_controls: false
              layout: vertical
              primary_info: none
              icon_type: icon
              double_tap_action:
                action: call-service
                service: light.turn_off
                data:
                  transition: 10
                target:
                  entity_id: light.group_all
              tap_action:
                action: navigate
                navigation_path: /dashboard-home/lights
              hold_action:
                action: none
            - type: custom:mushroom-template-card
              primary: ''
              secondary: ''
              icon: mdi:account-group-outline
              icon_color: |-
                {% if states('sensor.is_anyone_home') == 'False' %}
                  green
                {% endif %}
              layout: vertical
              tap_action:
                action: navigate
                navigation_path: /dashboard-home/persons
              fill_container: true
              hold_action:
                action: none
              double_tap_action:
                action: none
              badge_icon: ''
              badge_color: ''
            - type: custom:mushroom-template-card
              primary: ''
              secondary: ''
              icon: |-
                {% if is_state("sensor.is_any_mediaplayer_playing", "True") %}
                  mdi:music
                {% else %} 
                  mdi:music-off
                {% endif %}
              icon_color: |-
                {% if is_state("sensor.is_any_mediaplayer_playing", "True") %}
                  green
                {% endif %}
              layout: vertical
              tap_action:
                action: navigate
                navigation_path: /dashboard-home/mediaplayers
              fill_container: true
              hold_action:
                action: none
              double_tap_action:
                action: none
              badge_icon: >-
                {% set active_mediaplayers =
                states('sensor.mediaplayers_active_count') | int %}

                {{ 'mdi:numeric-' ~ active_mediaplayers if active_mediaplayers >
                0 else '' }}
              badge_color: ''
            - type: custom:mushroom-template-card
              primary: ''
              secondary: ''
              icon: >-
                {% set temperature = (state_attr('climate.thermostat',
                'temperature') | default(15)) %}

                {% if is_state("binary_sensor.hot_tap_water", "on") %}
                  mdi:water-pump
                {% elif temperature <= 15%}
                  mdi:radiator-off
                {% elif temperature < 20.5 %}
                  mdi:radiator
                {% else %}
                  mdi:fire
                {% endif %}
              icon_color: >-
                {% set temperature = (state_attr('climate.thermostat',
                'temperature') | default(15)) %}

                {% if is_state("binary_sensor.hot_tap_water", "on") %}
                  red
                {% elif temperature <= 15%}
                  disabled
                {% elif temperature < 19.5 %}  
                  yellow
                {% elif temperature <  19.9 %}
                  orange
                {% else %}
                  red
                {% endif %}
              layout: vertical
              tap_action:
                action: navigate
                navigation_path: /dashboard-home/verwarming
              fill_container: true
              badge_icon: ''
              picture: ''
              hold_action:
                action: none
              double_tap_action:
                action: none
        - type: horizontal-stack
          cards:
            - type: custom:mushroom-template-card
              primary: ''
              secondary: ''
              icon: mdi:recycle-variant
              icon_color: >
                {% set upcomming_trash =
                states('sensor.afvalinfo_first_upcomming_trash_type') %}

                {% if 'Papier' in upcomming_trash %}
                  blue
                {% elif 'PBD' in upcomming_trash %}
                  pink
                {% elif 'GFT' in upcomming_trash %}
                  green
                {% else %} 
                  red
                {% endif %}
              layout: vertical
              tap_action:
                action: navigate
                navigation_path: /dashboard-home/afval
              fill_container: true
              badge_icon: ''
              picture: ''
              hold_action:
                action: none
              double_tap_action:
                action: none
              badge_color: ''
            - type: custom:mushroom-template-card
              primary: ''
              secondary: ''
              icon: >
                {% set onlinestate =
                is_state("binary_sensor.internet_troubleshooting", "on") %}

                {% if onlinestate %}
                  mdi:web-check
                {% else %}
                  mdi:web-off
                {% endif %}
              hold_action:
                action: none
              double_tap_action:
                action: none
              tap_action:
                action: navigate
                navigation_path: /dashboard-home/internet
              icon_color: >
                {% set onlinestate =
                is_state("binary_sensor.internet_troubleshooting", "on") %}

                {% if onlinestate %} green {% else %} red {% endif %}
              layout: horizontal
            - type: custom:mushroom-template-card
              primary: ''
              secondary: ''
              icon: mdi:racing-helmet
              icon_color: ''
              layout: vertical
              tap_action:
                action: navigate
                navigation_path: /dashboard-home/f1
              fill_container: true
              hold_action:
                action: none
              double_tap_action:
                action: none
            - type: custom:mushroom-template-card
              primary: ''
              secondary: ''
              icon: mdi:server-outline
              icon_color: >-
                {% set current_cpu =
                states('sensor.buurmansnas_cpu_utilization_total') | int %}

                {% if current_cpu < 10 %}
                  blue
                {% elif current_cpu < 30 %}
                  green
                {% elif current_cpu < 50 %}
                  yellow
                {% elif current_cpu < 75 %}
                  orange
                {% else %}
                  red
                {% endif %}
              layout: vertical
              tap_action:
                action: navigate
                navigation_path: /dashboard-home/homelab
              fill_container: true
              hold_action:
                action: none
              double_tap_action:
                action: none
            - type: custom:mushroom-template-card
              primary: ''
              secondary: ''
              icon: >-
                {% set lowest_battery =
                states('sensor.lowest_battery_percentage') | int %}

                {% if lowest_battery < 10 %}
                  mdi:battery-10
                {% elif lowest_battery < 20 %}
                  mdi:battery-20
                {% elif lowest_battery < 30 %}
                  mdi:battery-30
                {% elif lowest_battery < 40 %}
                  mdi:battery-40
                {% elif lowest_battery < 50 %}
                  mdi:battery-50
                {% elif lowest_battery < 60 %}
                  mdi:battery-60
                {% elif lowest_battery < 70 %}
                  mdi:battery-70
                {% elif lowest_battery < 80 %}
                  mdi:battery-80
                {% elif lowest_battery < 90 %}
                  mdi:battery-90
                {% else %}
                  mdi:battery-check
                {% endif %}
              icon_color: >-
                {% set lowest_battery =
                states('sensor.lowest_battery_percentage') | int %}

                {% if lowest_battery < 20 %}
                  red
                {% elif lowest_battery < 30 %}
                  orange
                {% elif lowest_battery < 40 %}
                  yellow
                {% else %}
                  green
                {% endif %}
              layout: vertical
              tap_action:
                action: navigate
                navigation_path: /dashboard-home/battery
              fill_container: false
              badge_icon: ''
              hold_action:
                action: none
              double_tap_action:
                action: none
views:
  - title: Home
    type: custom:vertical-layout
    theme: buurmans-bubble-theme
    icon: mdi:home
    path: home
    badges: []
    cards:
      - type: conditional
        conditions:
          - entity: binary_sensor.backups_stale
            state_not: 'off'
        card:
          type: markdown
          content: >-
            Backups are stale! Please visit the "Home Assistant Google Drive
            Backup" add-on status page for details.
          title: Stale Backups!
      - type: vertical-stack
        cards:
          - type: custom:decluttering-card
            template: navigation_header
          - type: custom:stack-in-card
            mode: horizontal
            cards:
              - type: custom:button-card
                aspect_ratio: 1/1.5
                entity: person.chantal
                show_entity_picture: true
                show_name: false
                show_state: false
                triggers_update: all
                tap_action:
                  action: navigate
                  navigation_path: /dashboard-home/chantal
                custom_fields:
                  location: |
                    [[[
                      var location = entity.state;
                      if (location == "not_home") location = "Weg";
                      else if (location == "home") location = "Thuis";
                      return `${location}`;
                    ]]]
                  location_changed: |
                    [[[
                      var changed = states["sensor.person_chantal_last_changed_formatted"].state;
                      return `${changed}`;
                    ]]]
                  location_icon: |
                    [[[
                      var icon = states["sensor.person_zone_color_icon_chantal"];           
                      return `<ha-icon icon='${icon.attributes.icon}' style='width: 16px;'></ha-icon>`;      
                    ]]]
                  battery: |
                    [[[
                      var battery = states['sensor.chantal_phone_battery_level'];
                      return `${battery.state}%<ha-icon icon='${battery.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]
                  network: |
                    [[[
                      var signal = states['sensor.chantal_phone_wifi_signal_strength'];
                      return `<ha-icon icon='${signal.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]  
                  distance: |
                    [[[
                      var distance = states['sensor.chantal_distance_from_home'].state;
                      return distance == 'home'
                        ? ``
                        : `${distance}`;
                    ]]]
                styles:
                  entity_picture:
                    - top: 17%
                  custom_fields:
                    network:
                      - position: absolute
                      - left: 5px
                      - top: 0px
                      - color: |-
                          [[[            
                            var wifi_signal = states['sensor.chantal_phone_wifi_signal_strength'].state;
                            if (wifi_signal == -1)
                              return "var(--info-color)";
                            if (wifi_signal >= -60)
                              return "var(--success-color)";
                            if (wifi_signal >= -75)
                              return "var(--warning-color)";            
                            else "var(--error-color)"
                          ]]]
                    battery:
                      - position: absolute
                      - right: 5px
                      - top: 5px
                      - font-size: 10px
                      - color: |-
                          [[[
                            var bat_lvl = states["sensor.chantal_phone_battery_level"].state;
                            if (bat_lvl < 25) 
                              return "var(--error-color)";
                            else if (bat_lvl < 50) 
                              return "var(--warning-color)";
                            else 
                              return "var(--success-color)";
                          ]]]
                    location:
                      - position: absolute
                      - right: 5px
                      - bottom: 20px
                      - font-size: 12px
                      - font-weight: bolder
                    location_changed:
                      - position: absolute
                      - right: 5px
                      - bottom: 5px
                      - font-size: 10px
                    location_icon:
                      - position: absolute
                      - left: 5px
                      - bottom: |-
                          [[[
                            var location = entity.state;
                            if (location == "home") return "5px"; 
                            else return "20px";
                          ]]]      
                      - color: |-
                          [[[     
                            return states["sensor.person_zone_color_icon_chantal"].state; 
                          ]]]
                    distance:
                      - position: absolute
                      - left: 5px
                      - bottom: 5px
                      - font-size: 10px
                  icon:
                    - width: 75%
                    - border: 4px solid
                    - border-radius: 0%
                    - border-color: |-
                        [[[     
                          return states["sensor.person_zone_color_icon_chantal"].state; 
                        ]]]
              - type: custom:button-card
                aspect_ratio: 1/1.5
                entity: person.stef
                show_entity_picture: true
                show_name: false
                show_state: false
                triggers_update: all
                tap_action:
                  action: navigate
                  navigation_path: /dashboard-home/stef
                custom_fields:
                  location: |
                    [[[
                      var location = entity.state;
                      if (location == "not_home") location = "Weg";
                      else if (location == "home") location = "Thuis";
                      return `${location}`;
                    ]]]
                  location_changed: |
                    [[[
                      var changed = states["sensor.person_stef_last_changed_formatted"].state;
                      return `${changed}`;
                    ]]]
                  location_icon: |
                    [[[
                      var icon = states["sensor.person_zone_color_icon_stef"];           
                      return `<ha-icon icon='${icon.attributes.icon}' style='width: 16px;'></ha-icon>`;      
                    ]]]
                  battery: |
                    [[[
                      var battery = states['sensor.stef_phone_battery_level'];
                      return `${battery.state}%<ha-icon icon='${battery.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]
                  network: |
                    [[[
                      var signal = states['sensor.stef_phone_wifi_signal_strength'];
                      return `<ha-icon icon='${signal.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]  
                  distance: |
                    [[[
                      var distance = states['sensor.stef_distance_from_home'].state;
                      return distance == 'home'
                        ? ``
                        : `${distance}`;
                    ]]]
                styles:
                  entity_picture:
                    - top: 17%
                  custom_fields:
                    network:
                      - position: absolute
                      - left: 5px
                      - top: 0px
                      - color: |-
                          [[[            
                            var wifi_signal = states['sensor.stef_phone_wifi_signal_strength'].state;
                            if (wifi_signal == -1)
                              return "var(--info-color)";
                            if (wifi_signal >= -60)
                              return "var(--success-color)";
                            if (wifi_signal >= -75)
                              return "var(--warning-color)";            
                            else "var(--error-color)"
                          ]]]
                    battery:
                      - position: absolute
                      - right: 5px
                      - top: 5px
                      - font-size: 10px
                      - color: |-
                          [[[
                            var bat_lvl = states["sensor.stef_phone_battery_level"].state;
                            if (bat_lvl < 25) 
                              return "var(--error-color)";
                            else if (bat_lvl < 50) 
                              return "var(--warning-color)";
                            else 
                              return "var(--success-color)";
                          ]]]
                    location:
                      - position: absolute
                      - right: 5px
                      - bottom: 20px
                      - font-size: 12px
                      - font-weight: bolder
                    location_changed:
                      - position: absolute
                      - right: 5px
                      - bottom: 5px
                      - font-size: 10px
                    location_icon:
                      - position: absolute
                      - left: 5px
                      - bottom: |-
                          [[[
                            var location = entity.state;
                            if (location == "home") return "5px"; 
                            else return "20px";
                          ]]]      
                      - color: |-
                          [[[     
                            return states["sensor.person_zone_color_icon_stef"].state; 
                          ]]]
                    distance:
                      - position: absolute
                      - left: 5px
                      - bottom: 5px
                      - font-size: 10px
                  icon:
                    - width: 75%
                    - border: 4px solid
                    - border-radius: 0%
                    - border-color: |-
                        [[[     
                          return states["sensor.person_zone_color_icon_stef"].state; 
                        ]]]
              - type: custom:button-card
                aspect_ratio: 1/1.5
                entity: person.fiek
                show_entity_picture: true
                show_name: false
                show_state: false
                triggers_update: all
                tap_action:
                  action: navigate
                  navigation_path: /dashboard-home/fiek
                custom_fields:
                  location: |
                    [[[
                      var location = entity.state;
                      if (location == "not_home") location = "Weg";
                      else if (location == "home") location = "Thuis";
                      return `${location}`;
                    ]]]
                  location_changed: |
                    [[[
                      var changed = states["sensor.person_fiek_last_changed_formatted"].state;
                      return `${changed}`;
                    ]]]
                  location_icon: |
                    [[[
                      var icon = states["sensor.person_zone_color_icon_fiek"];           
                      return `<ha-icon icon='${icon.attributes.icon}' style='width: 16px;'></ha-icon>`;      
                    ]]]
                  battery: |
                    [[[
                      var battery = states['sensor.fiek_phone_battery_level'];
                      return `${battery.state}%<ha-icon icon='${battery.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]
                  network: |
                    [[[
                      var signal = states['sensor.fiek_phone_wifi_signal_strength'];
                      return `<ha-icon icon='${signal.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]  
                  distance: |
                    [[[
                      var distance = states['sensor.fiek_distance_from_home'].state;
                      return distance == 'home'
                        ? ``
                        : `${distance}`;
                    ]]]
                styles:
                  entity_picture:
                    - top: 17%
                  custom_fields:
                    network:
                      - position: absolute
                      - left: 5px
                      - top: 0px
                      - color: |-
                          [[[            
                            var wifi_signal = states['sensor.fiek_phone_wifi_signal_strength'].state;
                            if (wifi_signal == -1)
                              return "var(--info-color)";
                            if (wifi_signal >= -60)
                              return "var(--success-color)";
                            if (wifi_signal >= -75)
                              return "var(--warning-color)";            
                            else "var(--error-color)"
                          ]]]
                    battery:
                      - position: absolute
                      - right: 5px
                      - top: 5px
                      - font-size: 10px
                      - color: |-
                          [[[
                            var bat_lvl = states["sensor.fiek_phone_battery_level"].state;
                            if (bat_lvl < 25) 
                              return "var(--error-color)";
                            else if (bat_lvl < 50) 
                              return "var(--warning-color)";
                            else 
                              return "var(--success-color)";
                          ]]]
                    location:
                      - position: absolute
                      - right: 5px
                      - bottom: 20px
                      - font-size: 12px
                      - font-weight: bolder
                    location_changed:
                      - position: absolute
                      - right: 5px
                      - bottom: 5px
                      - font-size: 10px
                    location_icon:
                      - position: absolute
                      - left: 5px
                      - bottom: |-
                          [[[
                            var location = entity.state;
                            if (location == "home") return "5px"; 
                            else return "20px";
                          ]]]      
                      - color: |-
                          [[[     
                            return states["sensor.person_zone_color_icon_fiek"].state; 
                          ]]]
                    distance:
                      - position: absolute
                      - left: 5px
                      - bottom: 5px
                      - font-size: 10px
                  icon:
                    - width: 75%
                    - border: 4px solid
                    - border-radius: 0%
                    - border-color: |-
                        [[[     
                          return states["sensor.person_zone_color_icon_fiek"].state; 
                        ]]]
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                primary: ''
                secondary: eten
                icon: mdi:food-fork-drink
                entity: scene.etenstijd
                layout: vertical
                icon_color: |-
                  {% if states("input_text.current_scene") == "etenstijd" %}
                    amber
                  {%else%}
                    disabled
                  {%endif%}
                multiline_secondary: true
                double_tap_action:
                  action: none
                hold_action:
                  action: none
                tap_action:
                  action: call-service
                  service: scene.turn_on
                  data:
                    transition: 2
                  target:
                    entity_id: scene.etenstijd
              - type: custom:mushroom-template-card
                primary: ''
                secondary: avond
                icon: mdi:gamepad-variant-outline
                layout: vertical
                icon_color: |-
                  {% if states("input_text.current_scene") == "avondlicht" %}
                    amber
                  {%else%}
                    disabled
                  {%endif%}
                multiline_secondary: true
                double_tap_action:
                  action: none
                hold_action:
                  action: none
                tap_action:
                  action: call-service
                  service: automation.trigger
                  target:
                    entity_id: automation.set_avond_licht
                  data:
                    skip_condition: true
              - type: custom:mushroom-light-card
                entity: light.group_stef_kamer
                secondary_info: name
                show_brightness_control: false
                show_color_temp_control: false
                use_light_color: true
                collapsible_controls: false
                layout: vertical
                primary_info: none
                icon_type: icon
                double_tap_action:
                  action: none
                tap_action:
                  action: call-service
                  service: automation.trigger
                  data:
                    skip_condition: true
                  target:
                    entity_id: automation.koffie_tijd
                hold_action:
                  action: none
                icon: mdi:coffee
                icon_color: deep-orange
                name: koffie!
              - type: custom:mushroom-template-card
                primary: ''
                secondary: schemer
                icon: mdi:weather-night
                entity: scene.licht_woonkamer_schemer
                layout: vertical
                icon_color: |-
                  {% if states("input_text.current_scene") == "schemerlicht" %}
                    amber
                  {%else%}
                    disabled
                  {%endif%}
                multiline_secondary: true
                double_tap_action:
                  action: none
                hold_action:
                  action: none
                tap_action:
                  action: call-service
                  service: automation.trigger
                  target:
                    entity_id: automation.set_schemer_light
                  data:
                    skip_condition: true
              - type: custom:mushroom-template-card
                primary: ''
                secondary: ochtend
                icon: mdi:weather-sunset-up
                entity: scene.ochtendlicht
                layout: vertical
                icon_color: |-
                  {% if states("input_text.current_scene") == "ochtendlicht" %}
                    amber
                  {%else%}
                    disabled
                  {%endif%}
                multiline_secondary: true
                double_tap_action:
                  action: none
                hold_action:
                  action: none
                tap_action:
                  action: call-service
                  service: scene.turn_on
                  data: {}
                  target:
                    entity_id: scene.ochtendlicht
      - type: custom:collapsable-cards
        card_mod:
          style: |
            ha-card {
              border: 1px #000000 solid;
              margin: 0 1% 0 1%;
              width: 98%
            }
            .type-custom-collapsable-cards{
              background: bottom right no-repeat url("/local/images/peugeot_banner.jpg");
              background-size: cover;
            }
        title: ' '
        cards:
          - type: custom:auto-entities
            filter:
              include:
                - entity_id: sensor.benzine_prijs*
              exclude:
                - state: unknown
            sort:
              method: state
              numeric: true
              ip: false
              ignore_case: false
              reverse: false
            card:
              type: entities
              state_color: false
              show_header_toggle: false
              card_mod:
                style: |
                  ha-card {
                    background: rgba(0,0,0, 0.7);
                  }
            show_empty: false
          - type: entities
            card_mod:
              style: |
                ha-card {
                  background: rgba(0,0,0, 0.7);
                }
            entities:
              - entity: sensor.peugeot_3008_expdate
                name: APK verval datum
                secondary_info: none
              - entity: binary_sensor.peugeot_3008_insured
                name: Verzekering actief
              - entity: sensor.peugeot_3008_recall
                name: Is er een terug roep actie?
            state_color: true
            title: Peugeot 3008
      - show_current: true
        show_forecast: true
        type: weather-forecast
        entity: weather.forecast_buurmanshomeassistant
        name: Delft
        forecast_type: daily
        secondary_info_attribute: wind_speed
  - title: lights
    path: lights
    icon: mdi:lightbulb-group
    theme: buurmans-bubble-theme
    type: custom:horizontal-layout
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: conditional
            conditions:
              - condition: screen
                media_query: '(min-width: 1280px)'
            card:
              type: markdown
              content: |
                ## <center> Hello, {{user}} </center>
              style:
                text-align: center
          - type: custom:decluttering-card
            template: navigation_header
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                primary: ''
                secondary: eten
                icon: mdi:food-fork-drink
                entity: scene.etenstijd
                layout: vertical
                icon_color: |-
                  {% if states("input_text.current_scene") == "etenstijd" %}
                    amber
                  {%else%}
                    disabled
                  {%endif%}
                multiline_secondary: true
                double_tap_action:
                  action: none
                hold_action:
                  action: none
                tap_action:
                  action: call-service
                  service: scene.turn_on
                  data:
                    transition: 2
                  target:
                    entity_id: scene.etenstijd
              - type: custom:mushroom-template-card
                primary: ''
                secondary: avond
                icon: mdi:gamepad-variant-outline
                layout: vertical
                icon_color: |-
                  {% if states("input_text.current_scene") == "avondlicht" %}
                    amber
                  {%else%}
                    disabled
                  {%endif%}
                multiline_secondary: true
                double_tap_action:
                  action: none
                hold_action:
                  action: none
                tap_action:
                  action: call-service
                  service: automation.trigger
                  target:
                    entity_id: automation.set_avond_licht
                  data:
                    skip_condition: true
              - type: custom:mushroom-light-card
                entity: light.group_stef_kamer
                secondary_info: name
                show_brightness_control: false
                show_color_temp_control: false
                use_light_color: true
                collapsible_controls: false
                layout: vertical
                primary_info: none
                icon_type: icon
                double_tap_action:
                  action: none
                tap_action:
                  action: call-service
                  service: automation.trigger
                  data:
                    skip_condition: true
                  target:
                    entity_id: automation.koffie_tijd
                hold_action:
                  action: none
                icon: mdi:coffee
                icon_color: deep-orange
                name: koffie!
              - type: custom:mushroom-template-card
                primary: ''
                secondary: schemer
                icon: mdi:weather-night
                entity: scene.licht_woonkamer_schemer
                layout: vertical
                icon_color: |-
                  {% if states("input_text.current_scene") == "schemerlicht" %}
                    amber
                  {%else%}
                    disabled
                  {%endif%}
                multiline_secondary: true
                double_tap_action:
                  action: none
                hold_action:
                  action: none
                tap_action:
                  action: call-service
                  service: automation.trigger
                  target:
                    entity_id: automation.set_schemer_light
                  data:
                    skip_condition: true
              - type: custom:mushroom-template-card
                primary: ''
                secondary: ochtend
                icon: mdi:weather-sunset-up
                entity: scene.ochtendlicht
                layout: vertical
                icon_color: |-
                  {% if states("input_text.current_scene") == "ochtendlicht" %}
                    amber
                  {%else%}
                    disabled
                  {%endif%}
                multiline_secondary: true
                double_tap_action:
                  action: none
                hold_action:
                  action: none
                tap_action:
                  action: call-service
                  service: scene.turn_on
                  data: {}
                  target:
                    entity_id: scene.ochtendlicht
          - type: vertical-stack
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-entity-card
                    icon_color: disabled
                    layout: vertical
                    secondary_info: none
                    name: Alles uit
                    tap_action:
                      action: call-service
                      service: light.turn_off
                      data: {}
                      target:
                        entity_id: light.group_all
                    icon: mdi:lightbulb-group-off-outline
                    fill_container: false
                    entity: light.group_all
                  - type: custom:mushroom-entity-card
                    icon_color: disabled
                    layout: vertical
                    secondary_info: none
                    name: Alles aan
                    tap_action:
                      action: call-service
                      service: light.turn_on
                      data:
                        transition: 2
                        brightness_pct: 100
                      target:
                        entity_id: light.group_all
                    icon: ''
                    fill_container: false
                    entity: light.group_all
              - type: custom:mushroom-light-card
                entity: light.group_all
                name: Alle lampen in huis
                secondary_info: none
                show_brightness_control: true
                show_color_temp_control: true
                use_light_color: true
                collapsible_controls: false
                layout: horizontal
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                primary: Voor ({{ states[entity].state }} lx)
                secondary: |
                  {{ states[entity].last_changed | relative_time }} ago
                icon: |
                  {% set brightness = states[entity].state | int %}
                  {% if brightness < 10 %}
                    mdi:brightness-1
                  {% elif brightness < 30 %}
                    mdi:brightness-2
                  {% elif brightness < 40 %}
                    mdi:brightness-3
                  {% elif brightness < 50 %}
                    mdi:brightness-4
                  {% elif brightness < 70 %}
                    mdi:brightness-5
                  {% elif brightness < 80 %}
                    mdi:brightness-6
                  {% elif brightness < 1001 %}
                    mdi:brightness-7
                  {% else %}
                    mdi:alert-circle
                  {% endif %}
                icon_color: |
                  {% set brightness = states[entity].state | int %}
                  {% if brightness < 20 %}
                    grey
                  {% elif brightness < 40 %}
                    blue
                  {% elif brightness < 60 %}
                    orange
                  {% elif brightness < 1000 %}
                    yellow
                  {% else %}
                    red
                  {% endif %}
                entity: sensor.aqara_motion_woonkamer_voor_licht
                tap_action:
                  action: more-info
                fill_container: false
              - type: custom:mushroom-template-card
                primary: Achter ({{ states[entity].state }} lx)
                secondary: |
                  {{ states[entity].last_changed | relative_time }} ago
                icon: |
                  {% set brightness = states[entity].state | int %}
                  {% if brightness < 10 %}
                    mdi:brightness-1
                  {% elif brightness < 30 %}
                    mdi:brightness-2
                  {% elif brightness < 40 %}
                    mdi:brightness-3
                  {% elif brightness < 50 %}
                    mdi:brightness-4
                  {% elif brightness < 70 %}
                    mdi:brightness-5
                  {% elif brightness < 80 %}
                    mdi:brightness-6
                  {% elif brightness < 1001 %}
                    mdi:brightness-7
                  {% else %}
                    mdi:alert-circle
                  {% endif %}
                icon_color: |
                  {% set brightness = states[entity].state | int %}
                  {% if brightness < 20 %}
                    grey
                  {% elif brightness < 40 %}
                    blue
                  {% elif brightness < 60 %}
                    orange
                  {% elif brightness < 1000 %}
                    yellow
                  {% else %}
                    red
                  {% endif %}
                entity: sensor.aqara_motion_woonkamer_achter_licht
                tap_action:
                  action: more-info
                fill_container: false
      - type: vertical-stack
        cards:
          - type: conditional
            conditions:
              - condition: screen
                media_query: '(min-width: 1280px)'
            card:
              type: markdown
              content: |
                ## <center> Woonkamer </center>
              style:
                text-align: center
          - type: custom:mushroom-light-card
            name: Alle lampen woonkamer
            secondary_info: none
            show_brightness_control: false
            show_color_temp_control: true
            use_light_color: true
            collapsible_controls: true
            layout: horizontal
            entity: light.lampen_woonkamer
            fill_container: false
          - type: custom:slider-button-card
            entity: light.staande_lamp_woonkamer_light
            slider:
              direction: left-right
              background: gradient
              use_state_color: true
              use_percentage_bg_opacity: true
              show_track: true
              toggle_on_click: false
              force_square: false
            show_name: true
            show_state: true
            compact: true
            icon:
              show: true
              use_state_color: true
              tap_action:
                action: more-info
            action_button:
              mode: custom
              icon: mdi:power
              show: true
              show_spinner: true
              tap_action:
                action: toggle
            name: Staande
          - type: custom:slider-button-card
            entity: light.lamp_plafon_achter_light
            slider:
              direction: left-right
              background: gradient
              use_state_color: true
              use_percentage_bg_opacity: true
              show_track: true
              toggle_on_click: false
              force_square: false
            show_name: true
            show_state: true
            compact: true
            icon:
              show: true
              use_state_color: true
              tap_action:
                action: more-info
              icon: ''
            action_button:
              mode: custom
              icon: mdi:power
              show: true
              show_spinner: true
              tap_action:
                action: toggle
            name: Plafon achter
          - type: custom:slider-button-card
            entity: light.lamp_woonkamer_plafon_voor
            slider:
              direction: left-right
              background: gradient
              use_state_color: true
              use_percentage_bg_opacity: true
              show_track: true
              toggle_on_click: false
              force_square: false
            show_name: true
            show_state: true
            compact: true
            icon:
              show: true
              use_state_color: true
              tap_action:
                action: more-info
              icon: ''
            action_button:
              mode: custom
              icon: mdi:power
              show: true
              show_spinner: true
              tap_action:
                action: toggle
            name: Plafon voor
          - type: horizontal-stack
            cards:
              - type: custom:slider-button-card
                entity: light.bureaulamp_fiek_light
                slider:
                  direction: left-right
                  background: gradient
                  use_state_color: true
                  use_percentage_bg_opacity: true
                  show_track: true
                  toggle_on_click: false
                  force_square: false
                show_name: true
                show_state: true
                compact: true
                icon:
                  show: true
                  use_state_color: true
                  tap_action:
                    action: more-info
                  icon: ''
                action_button:
                  mode: custom
                  icon: mdi:power
                  show: true
                  show_spinner: true
                  tap_action:
                    action: toggle
                name: 'Bureau '
              - type: custom:mushroom-entity-card
                entity: light.bureaulamp_fiek_light
                name: loop
                tap_action:
                  action: call-service
                  service: script.color_loop_testlamp
                  target: {}
                secondary_info: none
          - type: custom:mushroom-light-card
            name: Bureau
            secondary_info: none
            show_brightness_control: false
            show_color_temp_control: false
            use_light_color: true
            collapsible_controls: true
            layout: horizontal
            entity: light.bureaulamp_fiek_light
            fill_container: false
            show_color_control: true
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                primary: Achter
                secondary: '{{ states[entity].last_changed | relative_time }} ago'
                icon: >-
                  mdi:motion-sensor{{ '-off' if is_state(entity, 'off') else ''
                  }}
                icon_color: '{{ ''orange'' if is_state(entity, ''on'') else '''' }}'
                entity: binary_sensor.aqara_motion_woonkamer_achter_beweging
                tap_action:
                  action: more-info
                fill_container: false
              - type: custom:mushroom-template-card
                primary: Achter
                secondary: '{{ states[entity].last_changed | relative_time }} ago'
                icon: mdi:home{{ '-off' if is_state(entity, 'off') else '' }}
                icon_color: '{{ ''orange'' if is_state(entity, ''on'') else '''' }}'
                entity: binary_sensor.aqara_motion_woonkamer_achter_bezetting
                tap_action:
                  action: more-info
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                primary: Voor
                secondary: '{{ states[entity].last_changed | relative_time }} ago'
                icon: >-
                  mdi:motion-sensor{{ '-off' if is_state(entity, 'off') else ''
                  }}
                icon_color: '{{ ''orange'' if is_state(entity, ''on'') else '''' }}'
                entity: binary_sensor.aqara_motion_woonkamer_voor_beweging
                tap_action:
                  action: more-info
                fill_container: false
              - type: custom:mushroom-template-card
                primary: Voor
                secondary: '{{ states[entity].last_changed | relative_time }} ago'
                icon: mdi:home{{ '-off' if is_state(entity, 'off') else '' }}
                icon_color: '{{ ''orange'' if is_state(entity, ''on'') else '''' }}'
                entity: binary_sensor.aqara_motion_woonkamer_voor_bezetting
                tap_action:
                  action: more-info
      - type: vertical-stack
        cards:
          - type: conditional
            conditions:
              - condition: screen
                media_query: '(min-width: 1280px)'
            card:
              type: markdown
              content: |
                ## <center> Stef's kamer </center>
              style:
                text-align: center
          - type: custom:mushroom-light-card
            name: Alle Stef kamer
            secondary_info: none
            show_brightness_control: false
            show_color_temp_control: false
            use_light_color: true
            collapsible_controls: true
            layout: horizontal
            entity: light.group_stef_kamer
            fill_container: false
            show_color_control: true
          - type: custom:slider-button-card
            entity: light.3a_smart_home_de_lxt56_ls27lx1_7_light
            slider:
              direction: left-right
              background: gradient
              use_state_color: true
              use_percentage_bg_opacity: true
              show_track: true
              toggle_on_click: false
              force_square: false
            show_name: true
            show_state: true
            compact: true
            icon:
              show: true
              use_state_color: true
              tap_action:
                action: more-info
              icon: ''
            action_button:
              mode: custom
              icon: mdi:power
              show: true
              show_spinner: true
              tap_action:
                action: toggle
          - type: custom:slider-button-card
            entity: light.lamp_plafon_stef_light
            slider:
              direction: left-right
              background: gradient
              use_state_color: true
              use_percentage_bg_opacity: true
              show_track: true
              toggle_on_click: false
              force_square: false
            show_name: true
            show_state: true
            compact: true
            icon:
              show: true
              use_state_color: true
              tap_action:
                action: more-info
              icon: ''
            action_button:
              mode: custom
              icon: mdi:power
              show: true
              show_spinner: true
              tap_action:
                action: toggle
            name: plafonlamp Stef
          - type: conditional
            conditions:
              - entity: light.wled
                state: 'on'
            card:
              type: iframe
              url: https://wled.buurmans.info/liveview
              aspect_ratio: 5%
              title: null
          - type: custom:slider-button-card
            entity: light.wled
            slider:
              direction: left-right
              background: gradient
              use_state_color: true
              use_percentage_bg_opacity: true
              show_track: true
              toggle_on_click: false
              force_square: false
            show_name: true
            show_state: true
            compact: true
            icon:
              show: true
              use_state_color: true
              tap_action:
                action: more-info
              icon: ''
            action_button:
              mode: custom
              icon: mdi:power
              show: true
              show_spinner: true
              tap_action:
                action: toggle
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                primary: Stef
                secondary: |
                  {{ states[entity].last_changed | relative_time }} ago
                icon: >-
                  mdi:motion-sensor{{ '-off' if is_state(entity, 'off') else ''
                  }}
                icon_color: |
                  {{ 'orange' if is_state(entity, 'on') else '' }}
                entity: binary_sensor.motion_sensor_stef_iaszone
                tap_action:
                  action: more-info
                fill_container: false
              - type: custom:mushroom-template-card
                primary: Stef
                secondary: |
                  {{ states[entity].last_changed | relative_time }} ago
                icon: >-
                  mdi:motion-sensor{{ '-off' if is_state(entity, 'off') else ''
                  }}
                icon_color: |
                  {{ 'orange' if is_state(entity, 'on') else '' }}
                entity: binary_sensor.aqara_motion_sensor_stef_2_beweging
                tap_action:
                  action: more-info
                fill_container: false
          - type: horizontal-stack
            cards:
              - type: custom:gap-card
              - type: custom:mushroom-template-card
                primary: Deur
                secondary: |
                  {{ states[entity].last_changed | relative_time }} ago
                icon: mdi:door{{ '-open' if is_state(entity, 'on') else '-closed' }}
                icon_color: |
                  {{ 'orange' if is_state(entity, 'on') }}
                entity: binary_sensor.deur_sensor_stef_iaszone
                tap_action:
                  action: more-info
                fill_container: false
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                primary: Stef ({{ states[entity].state }} lx)
                secondary: |
                  {{ states[entity].last_changed | relative_time }} ago
                icon: |
                  {% set brightness = states[entity].state | int %}
                  {% if brightness < 10 %}
                    mdi:brightness-1
                  {% elif brightness < 30 %}
                    mdi:brightness-2
                  {% elif brightness < 40 %}
                    mdi:brightness-3
                  {% elif brightness < 50 %}
                    mdi:brightness-4
                  {% elif brightness < 70 %}
                    mdi:brightness-5
                  {% elif brightness < 80 %}
                    mdi:brightness-6
                  {% elif brightness < 1001 %}
                    mdi:brightness-7
                  {% else %}
                    mdi:alert-circle
                  {% endif %}
                icon_color: |
                  {% set brightness = states[entity].state | int %}
                  {% if brightness < 20 %}
                    grey
                  {% elif brightness < 40 %}
                    blue
                  {% elif brightness < 60 %}
                    orange
                  {% elif brightness < 1000 %}
                    yellow
                  {% else %}
                    red
                  {% endif %}
                entity: sensor.aqara_motion_sensor_stef_licht
                tap_action:
                  action: more-info
                fill_container: false
              - type: custom:mushroom-template-card
                primary: Stef ({{ states[entity].state }} lx)
                secondary: |
                  {{ states[entity].last_changed | relative_time }} ago
                icon: |
                  {% set brightness = states[entity].state | int %}
                  {% if brightness < 10 %}
                    mdi:brightness-1
                  {% elif brightness < 30 %}
                    mdi:brightness-2
                  {% elif brightness < 40 %}
                    mdi:brightness-3
                  {% elif brightness < 50 %}
                    mdi:brightness-4
                  {% elif brightness < 70 %}
                    mdi:brightness-5
                  {% elif brightness < 80 %}
                    mdi:brightness-6
                  {% elif brightness < 1001 %}
                    mdi:brightness-7
                  {% else %}
                    mdi:alert-circle
                  {% endif %}
                icon_color: |
                  {% set brightness = states[entity].state | int %}
                  {% if brightness < 20 %}
                    grey
                  {% elif brightness < 40 %}
                    blue
                  {% elif brightness < 60 %}
                    orange
                  {% elif brightness < 1000 %}
                    yellow
                  {% else %}
                    red
                  {% endif %}
                entity: sensor.aqara_motion_sensor_stef_2_licht
                tap_action:
                  action: more-info
                fill_container: false
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                primary: Roep Stef
                secondary: >-
                  {{ state_attr("automation.koffie_tijd","last_triggered") |
                  relative_time}} ago
                icon: mdi:arrow-top-right
                icon_color: >-
                  {% set last_triggered =
                  as_timestamp(state_attr("automation.koffie_tijd","last_triggered"))
                  %}  {% set current_time = as_timestamp(now()) %}  {% set
                  time_difference = (current_time - last_triggered) / 60 %}  {%
                  if time_difference < 5 %}
                    green
                  {% elif time_difference < 10 %}
                    orange
                  {% else %}
                    grey
                  {% endif %}
                entity: automation.koffie_tijd
                tap_action:
                  action: more-info
                fill_container: false
              - type: custom:mushroom-template-card
                primary: Reactie Stef
                secondary: >-
                  {{ state_attr("automation.koffietijdreactie","last_triggered")
                  | relative_time}} ago
                icon: mdi:arrow-bottom-left
                icon_color: |2-
                    {% set last_triggered = as_timestamp(state_attr("automation.koffietijdreactie","last_triggered")) %} 
                    {% set current_time = as_timestamp(now()) %} 
                    {% set time_difference = (current_time - last_triggered) / 60 %} 
                    {% if time_difference < 5 %}
                      green
                    {% elif time_difference < 10 %}
                      orange
                    {% else %}
                      grey
                    {% endif %}
                entity: automation.koffietijdreactie
                tap_action:
                  action: more-info
                fill_container: false
      - type: vertical-stack
        cards:
          - type: conditional
            conditions:
              - condition: screen
                media_query: '(min-width: 1280px)'
            card:
              type: markdown
              content: |
                ## <center> Keuken </center>
              style:
                text-align: center
          - type: custom:slider-button-card
            entity: light.lamp_keuken_licht
            slider:
              direction: left-right
              background: gradient
              use_state_color: true
              use_percentage_bg_opacity: true
              show_track: true
              toggle_on_click: false
              force_square: false
            show_name: true
            show_state: true
            compact: true
            icon:
              show: true
              use_state_color: true
              tap_action:
                action: more-info
              icon: ''
            action_button:
              mode: custom
              icon: mdi:power
              show: true
              show_spinner: true
              tap_action:
                action: toggle
            name: Keuken
          - type: horizontal-stack
            cards:
              - type: custom:gap-card
              - type: custom:mushroom-template-card
                primary: Achter Deur
                secondary: |
                  {{ states[entity].last_changed | relative_time }} ago
                icon: mdi:door{{ '-open' if is_state(entity, 'on') else '-closed' }}
                icon_color: |
                  {{ 'orange' if is_state(entity, 'on') }}
                entity: binary_sensor.door_connector_opened_state
                tap_action:
                  action: more-info
                fill_container: false
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                primary: Keuken
                secondary: |
                  {{ states[entity].last_changed | relative_time }} ago
                icon: >-
                  mdi:motion-sensor{{ '-off' if is_state(entity, 'off') else ''
                  }}
                icon_color: |
                  {{ 'orange' if is_state(entity, 'on') else '' }}
                entity: binary_sensor.motion_keuken_iaszone
                tap_action:
                  action: more-info
                fill_container: false
              - type: custom:mushroom-template-card
                primary: Wasbak
                secondary: |
                  {{ states[entity].last_changed | relative_time }} ago
                icon: mdi:vibrate{{ '-off' if is_state(entity, 'off') else '' }}
                icon_color: |
                  {{ 'orange' if is_state(entity, 'on') else '' }}
                entity: binary_sensor.vibration_keuken_trilling
                tap_action:
                  action: more-info
                fill_container: false
          - type: conditional
            conditions:
              - condition: screen
                media_query: '(min-width: 1280px)'
            card:
              type: custom:gap-card
          - type: conditional
            conditions:
              - condition: screen
                media_query: '(min-width: 1280px)'
            card:
              type: markdown
              content: |
                ## <center> Gang </center>
              style:
                text-align: center
          - type: custom:slider-button-card
            entity: light.lamp_gang_light
            slider:
              direction: left-right
              background: gradient
              use_state_color: true
              use_percentage_bg_opacity: true
              show_track: true
              toggle_on_click: false
              force_square: false
            show_name: true
            show_state: true
            compact: true
            icon:
              show: true
              use_state_color: true
              tap_action:
                action: more-info
              icon: ''
            action_button:
              mode: custom
              icon: mdi:power
              show: true
              show_spinner: true
              tap_action:
                action: toggle
            name: 'Gang '
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                primary: Gang
                secondary: |
                  {{ states[entity].last_changed | relative_time }} ago
                icon: >-
                  mdi:motion-sensor{{ '-off' if is_state(entity, 'off') else ''
                  }}
                icon_color: |
                  {{ 'orange' if is_state(entity, 'on') else '' }}
                entity: binary_sensor.motion_sensor_gang_beneden_iaszone
                tap_action:
                  action: more-info
                fill_container: false
              - type: custom:mushroom-template-card
                primary: Voor Deur
                secondary: |
                  {{ states[entity].last_changed | relative_time }} ago
                icon: mdi:door{{ '-open' if is_state(entity, 'on') else '-closed' }}
                icon_color: |
                  {{ 'orange' if is_state(entity, 'on') }}
                entity: binary_sensor.deur_sensor_voor_iaszone
                tap_action:
                  action: more-info
                fill_container: false
      - type: custom:horizon-card
        language: nl
        fields:
          dusk: false
          noon: true
          dawn: false
        southern_flip: false
  - title: persons
    path: persons
    icon: mdi:account-group
    theme: buurmans-bubble-theme
    type: custom:horizontal-layout
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:decluttering-card
            template: navigation_header
          - type: custom:stack-in-card
            mode: horizontal
            cards:
              - type: custom:button-card
                aspect_ratio: 1/1.5
                entity: person.chantal
                show_entity_picture: true
                show_name: false
                show_state: false
                triggers_update: all
                tap_action:
                  action: navigate
                  navigation_path: /dashboard-home/chantal
                custom_fields:
                  location: |
                    [[[
                      var location = entity.state;
                      if (location == "not_home") location = "Weg";
                      else if (location == "home") location = "Thuis";
                      return `${location}`;
                    ]]]
                  location_changed: |
                    [[[
                      var changed = states["sensor.person_chantal_last_changed_formatted"].state;
                      return `${changed}`;
                    ]]]
                  location_icon: |
                    [[[
                      var icon = states["sensor.person_zone_color_icon_chantal"];           
                      return `<ha-icon icon='${icon.attributes.icon}' style='width: 16px;'></ha-icon>`;      
                    ]]]
                  battery: |
                    [[[
                      var battery = states['sensor.chantal_phone_battery_level'];
                      return `${battery.state}%<ha-icon icon='${battery.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]
                  network: |
                    [[[
                      var signal = states['sensor.chantal_phone_wifi_signal_strength'];
                      return `<ha-icon icon='${signal.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]  
                  distance: |
                    [[[
                      var distance = states['sensor.chantal_distance_from_home'].state;
                      return distance == 'home'
                        ? ``
                        : `${distance}`;
                    ]]]
                styles:
                  entity_picture:
                    - top: 17%
                  custom_fields:
                    network:
                      - position: absolute
                      - left: 5px
                      - top: 0px
                      - color: |-
                          [[[            
                            var wifi_signal = states['sensor.chantal_phone_wifi_signal_strength'].state;
                            if (wifi_signal == -1)
                              return "var(--info-color)";
                            if (wifi_signal >= -60)
                              return "var(--success-color)";
                            if (wifi_signal >= -75)
                              return "var(--warning-color)";            
                            else "var(--error-color)"
                          ]]]
                    battery:
                      - position: absolute
                      - right: 5px
                      - top: 5px
                      - font-size: 10px
                      - color: |-
                          [[[
                            var bat_lvl = states["sensor.chantal_phone_battery_level"].state;
                            if (bat_lvl < 25) 
                              return "var(--error-color)";
                            else if (bat_lvl < 50) 
                              return "var(--warning-color)";
                            else 
                              return "var(--success-color)";
                          ]]]
                    location:
                      - position: absolute
                      - right: 5px
                      - bottom: 20px
                      - font-size: 12px
                      - font-weight: bolder
                    location_changed:
                      - position: absolute
                      - right: 5px
                      - bottom: 5px
                      - font-size: 10px
                    location_icon:
                      - position: absolute
                      - left: 5px
                      - bottom: |-
                          [[[
                            var location = entity.state;
                            if (location == "home") return "5px"; 
                            else return "20px";
                          ]]]      
                      - color: |-
                          [[[     
                            return states["sensor.person_zone_color_icon_chantal"].state; 
                          ]]]
                    distance:
                      - position: absolute
                      - left: 5px
                      - bottom: 5px
                      - font-size: 10px
                  icon:
                    - width: 75%
                    - border: 4px solid
                    - border-radius: 0%
                    - border-color: |-
                        [[[     
                          return states["sensor.person_zone_color_icon_chantal"].state; 
                        ]]]
              - type: custom:button-card
                aspect_ratio: 1/1.5
                entity: person.stef
                show_entity_picture: true
                show_name: false
                show_state: false
                triggers_update: all
                tap_action:
                  action: navigate
                  navigation_path: /dashboard-home/stef
                custom_fields:
                  location: |
                    [[[
                      var location = entity.state;
                      if (location == "not_home") location = "Weg";
                      else if (location == "home") location = "Thuis";
                      return `${location}`;
                    ]]]
                  location_changed: |
                    [[[
                      var changed = states["sensor.person_stef_last_changed_formatted"].state;
                      return `${changed}`;
                    ]]]
                  location_icon: |
                    [[[
                      var icon = states["sensor.person_zone_color_icon_stef"];           
                      return `<ha-icon icon='${icon.attributes.icon}' style='width: 16px;'></ha-icon>`;      
                    ]]]
                  battery: |
                    [[[
                      var battery = states['sensor.stef_phone_battery_level'];
                      return `${battery.state}%<ha-icon icon='${battery.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]
                  network: |
                    [[[
                      var signal = states['sensor.stef_phone_wifi_signal_strength'];
                      return `<ha-icon icon='${signal.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]  
                  distance: |
                    [[[
                      var distance = states['sensor.stef_distance_from_home'].state;
                      return distance == 'home'
                        ? ``
                        : `${distance}`;
                    ]]]
                styles:
                  entity_picture:
                    - top: 17%
                  custom_fields:
                    network:
                      - position: absolute
                      - left: 5px
                      - top: 0px
                      - color: |-
                          [[[            
                            var wifi_signal = states['sensor.stef_phone_wifi_signal_strength'].state;
                            if (wifi_signal == -1)
                              return "var(--info-color)";
                            if (wifi_signal >= -60)
                              return "var(--success-color)";
                            if (wifi_signal >= -75)
                              return "var(--warning-color)";            
                            else "var(--error-color)"
                          ]]]
                    battery:
                      - position: absolute
                      - right: 5px
                      - top: 5px
                      - font-size: 10px
                      - color: |-
                          [[[
                            var bat_lvl = states["sensor.stef_phone_battery_level"].state;
                            if (bat_lvl < 25) 
                              return "var(--error-color)";
                            else if (bat_lvl < 50) 
                              return "var(--warning-color)";
                            else 
                              return "var(--success-color)";
                          ]]]
                    location:
                      - position: absolute
                      - right: 5px
                      - bottom: 20px
                      - font-size: 12px
                      - font-weight: bolder
                    location_changed:
                      - position: absolute
                      - right: 5px
                      - bottom: 5px
                      - font-size: 10px
                    location_icon:
                      - position: absolute
                      - left: 5px
                      - bottom: |-
                          [[[
                            var location = entity.state;
                            if (location == "home") return "5px"; 
                            else return "20px";
                          ]]]      
                      - color: |-
                          [[[     
                            return states["sensor.person_zone_color_icon_stef"].state; 
                          ]]]
                    distance:
                      - position: absolute
                      - left: 5px
                      - bottom: 5px
                      - font-size: 10px
                  icon:
                    - width: 75%
                    - border: 4px solid
                    - border-radius: 0%
                    - border-color: |-
                        [[[     
                          return states["sensor.person_zone_color_icon_stef"].state; 
                        ]]]
              - type: custom:button-card
                aspect_ratio: 1/1.5
                entity: person.fiek
                show_entity_picture: true
                show_name: false
                show_state: false
                triggers_update: all
                tap_action:
                  action: navigate
                  navigation_path: /dashboard-home/fiek
                custom_fields:
                  location: |
                    [[[
                      var location = entity.state;
                      if (location == "not_home") location = "Weg";
                      else if (location == "home") location = "Thuis";
                      return `${location}`;
                    ]]]
                  location_changed: |
                    [[[
                      var changed = states["sensor.person_fiek_last_changed_formatted"].state;
                      return `${changed}`;
                    ]]]
                  location_icon: |
                    [[[
                      var icon = states["sensor.person_zone_color_icon_fiek"];           
                      return `<ha-icon icon='${icon.attributes.icon}' style='width: 16px;'></ha-icon>`;      
                    ]]]
                  battery: |
                    [[[
                      var battery = states['sensor.fiek_phone_battery_level'];
                      return `${battery.state}%<ha-icon icon='${battery.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]
                  network: |
                    [[[
                      var signal = states['sensor.fiek_phone_wifi_signal_strength'];
                      return `<ha-icon icon='${signal.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]  
                  distance: |
                    [[[
                      var distance = states['sensor.fiek_distance_from_home'].state;
                      return distance == 'home'
                        ? ``
                        : `${distance}`;
                    ]]]
                styles:
                  entity_picture:
                    - top: 17%
                  custom_fields:
                    network:
                      - position: absolute
                      - left: 5px
                      - top: 0px
                      - color: |-
                          [[[            
                            var wifi_signal = states['sensor.fiek_phone_wifi_signal_strength'].state;
                            if (wifi_signal == -1)
                              return "var(--info-color)";
                            if (wifi_signal >= -60)
                              return "var(--success-color)";
                            if (wifi_signal >= -75)
                              return "var(--warning-color)";            
                            else "var(--error-color)"
                          ]]]
                    battery:
                      - position: absolute
                      - right: 5px
                      - top: 5px
                      - font-size: 10px
                      - color: |-
                          [[[
                            var bat_lvl = states["sensor.fiek_phone_battery_level"].state;
                            if (bat_lvl < 25) 
                              return "var(--error-color)";
                            else if (bat_lvl < 50) 
                              return "var(--warning-color)";
                            else 
                              return "var(--success-color)";
                          ]]]
                    location:
                      - position: absolute
                      - right: 5px
                      - bottom: 20px
                      - font-size: 12px
                      - font-weight: bolder
                    location_changed:
                      - position: absolute
                      - right: 5px
                      - bottom: 5px
                      - font-size: 10px
                    location_icon:
                      - position: absolute
                      - left: 5px
                      - bottom: |-
                          [[[
                            var location = entity.state;
                            if (location == "home") return "5px"; 
                            else return "20px";
                          ]]]      
                      - color: |-
                          [[[     
                            return states["sensor.person_zone_color_icon_fiek"].state; 
                          ]]]
                    distance:
                      - position: absolute
                      - left: 5px
                      - bottom: 5px
                      - font-size: 10px
                  icon:
                    - width: 75%
                    - border: 4px solid
                    - border-radius: 0%
                    - border-color: |-
                        [[[     
                          return states["sensor.person_zone_color_icon_fiek"].state; 
                        ]]]
      - type: map
        default_zoom: 12
        auto_fit: true
        entities:
          - entity: person.fiek
          - entity: person.chantal
          - entity: person.stef
        dark_mode: true
        aspect_ratio: '1:1.5'
        hours_to_show: 72
  - title: mediaplayers
    path: mediaplayers
    icon: mdi:music
    theme: buurmans-bubble-theme
    badges: []
    cards:
      - type: custom:decluttering-card
        template: navigation_header
      - type: vertical-stack
        cards:
          - type: custom:mini-media-player
            entity: media_player.woonkamer
            group: true
            sound_mode: full
            source: full
            artwork: cover-fit
            volume_stateless: true
            info: scroll
            replace_mute: stop
          - type: custom:mushroom-media-player-card
            entity: media_player.woonkamer
            name: Sonos
            show_volume_level: true
            volume_controls:
              - volume_set
            media_controls:
              - on_off
            collapsible_controls: true
            icon: mdi:radio
            secondary_info: none
            icon_type: none
            layout: vertical
            fill_container: true
            primary_info: state
            use_media_info: true
          - type: custom:mushroom-media-player-card
            entity: media_player.kpn_tv
            fill_container: true
            show_volume_level: true
            use_media_info: true
            media_controls:
              - on_off
            volume_controls:
              - volume_buttons
              - volume_set
              - volume_mute
            collapsible_controls: true
            tap_action:
              action: more-info
            secondary_info: last-changed
          - type: custom:mushroom-media-player-card
            entity: media_player.chromecast
            fill_container: true
            show_volume_level: true
            use_media_info: true
            media_controls:
              - on_off
            volume_controls:
              - volume_buttons
              - volume_set
              - volume_mute
            collapsible_controls: true
            tap_action:
              action: toggle
            secondary_info: last-changed
          - type: custom:mushroom-media-player-card
            entity: media_player.google_nest
            fill_container: true
            show_volume_level: true
            use_media_info: true
            media_controls:
              - on_off
            volume_controls:
              - volume_buttons
              - volume_set
              - volume_mute
            collapsible_controls: true
            tap_action:
              action: toggle
            secondary_info: last-changed
      - type: custom:sonos-card
        sections:
          - player
          - volumes
          - groups
          - grouping
          - media browser
        showNonSonosPlayers: false
        topFavorites:
          - ''
        dynamicVolumeSlider: false
  - title: verwarming
    path: verwarming
    icon: mdi:radiator
    theme: buurmans-bubble-theme
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:decluttering-card
            template: navigation_header
          - type: thermostat
            entity: climate.thermostat
            name: Toon
            show_current_as_primary: true
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                primary: ''
                secondary: '-0.5c'
                icon: mdi:minus
                entity: climate.thermostat
                tap_action:
                  action: call-service
                  service: script.temperature_temperature_steps
                  data:
                    climate_id: climate.thermostat
                    value: -0.5
                badge_icon: ''
                layout: vertical
                multiline_secondary: true
                icon_color: ''
              - type: custom:mushroom-template-card
                primary: ''
                secondary: 15c
                icon: mdi:sleep
                tap_action:
                  action: call-service
                  service: climate.set_temperature
                  data:
                    temperature: 15
                  target:
                    entity_id: climate.thermostat
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                entity: climate.thermostat
                multiline_secondary: true
                fill_container: true
                layout: vertical
                icon_color: >-
                  {% set temperature = (state_attr('climate.thermostat',
                  'temperature') | float | default(15)) %}

                  {% if temperature == 15 %}
                    orange
                  {% endif %}
              - type: custom:mushroom-template-card
                primary: ''
                secondary: 19.5c
                icon: mdi:home
                tap_action:
                  action: call-service
                  service: climate.set_temperature
                  data:
                    temperature: 19.5
                  target:
                    entity_id: climate.thermostat
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                multiline_secondary: true
                layout: vertical
                icon_color: >-
                  {% set temperature = (state_attr('climate.thermostat',
                  'temperature') | float | default(15)) %}

                  {% if temperature == 19.5 %}
                    orange
                  {% endif %}
              - type: custom:mushroom-template-card
                primary: ''
                secondary: 20c
                icon: mdi:sofa
                layout: vertical
                tap_action:
                  action: call-service
                  service: climate.set_temperature
                  data:
                    temperature: 20
                  target:
                    entity_id: climate.thermostat
                hold_action:
                  action: none
                double_tap_action:
                  action: none
                icon_color: >-
                  {% set temperature = (state_attr('climate.thermostat',
                  'temperature') | float | default(15)) %}

                  {% if temperature == 20 %}
                    orange
                  {% endif %}
              - type: custom:mushroom-template-card
                primary: ''
                secondary: +0.5c
                icon: mdi:plus
                entity: climate.thermostat
                tap_action:
                  action: call-service
                  service: script.temperature_temperature_steps
                  data:
                    climate_id: climate.thermostat
                    value: 0.5
                badge_icon: ''
                fill_container: false
                layout: vertical
                icon_color: ''
      - type: vertical-stack
        cards:
          - type: custom:mini-graph-card
            entities:
              - sensor.inside_temperature
            name: Toon afgelopen 24 uur
            hours_to_show: 24
            points_per_hour: 1
            show:
              labels: false
              fill: true
            color_thresholds:
              - value: 0
                color: '#0000FF'
              - value: 17
                color: '#00FFFF'
              - value: 17.5
                color: '#00FF00'
              - value: 18.5
                color: '#FFFF00'
              - value: 19
                color: '#FFA500'
              - value: 19.5
                color: '#FF4500'
              - value: 20
                color: '#FF0000'
          - type: custom:mini-graph-card
            entities:
              - sensor.temperature_woonkamer_temperature
            name: Muur afgelopen 24 uur
            hours_to_show: 24
            points_per_hour: 1
            show:
              labels: false
              fill: true
            color_thresholds:
              - value: 0
                color: '#0000FF'
              - value: 17
                color: '#00FFFF'
              - value: 17.5
                color: '#00FF00'
              - value: 18.5
                color: '#FFFF00'
              - value: 19
                color: '#FFA500'
              - value: 19.5
                color: '#FF4500'
              - value: 20
                color: '#FF0000'
          - type: history-graph
            entities:
              - entity: binary_sensor.hot_tap_water
            hours_to_show: 12
            show_names: false
            title: warm water kraan
            logarithmic_scale: true
      - type: vertical-stack
        cards:
          - type: entities
            entities:
              - entity: sensor.temperature_woonkamer_humidity
                type: custom:multiple-entity-row
                name: Woonkamer
                icon: mdi:sofa
                secondary_info: last-changed
                entities:
                  - entity: sensor.temperature_woonkamer_temperature
                    name: false
                    icon: true
                  - entity: sensor.temperature_woonkamer_temperature
                    name: false
                  - entity: sensor.temperature_woonkamer_humidity
                    name: false
                    icon: true
              - entity: sensor.temperatuur_meter_stef_humidity
                type: custom:multiple-entity-row
                name: Stef kamer
                icon: mdi:controller-classic
                secondary_info: last-changed
                entities:
                  - entity: sensor.temperatuur_meter_stef_temperature
                    name: false
                    icon: true
                  - entity: sensor.temperatuur_meter_stef_temperature
                    name: false
                  - entity: sensor.temperatuur_meter_stef_humidity
                    name: false
                    icon: true
              - entity: sensor.temperature_master_bedroom_humidity
                type: custom:multiple-entity-row
                name: Slaapkamer
                icon: mdi:bed
                secondary_info: last-changed
                entities:
                  - entity: sensor.temperature_master_bedroom_temperature
                    name: false
                    icon: true
                  - entity: sensor.temperature_master_bedroom_temperature
                    name: false
                  - entity: sensor.temperature_master_bedroom_humidity
                    name: false
                    icon: true
              - entity: sensor.temperature_schuur_humidity
                type: custom:multiple-entity-row
                name: Schuur
                icon: mdi:greenhouse
                secondary_info: last-changed
                entities:
                  - entity: sensor.temperature_schuur_temperature
                    name: false
                    icon: true
                  - entity: sensor.temperature_schuur_temperature
                    name: false
                  - entity: sensor.temperature_schuur_humidity
                    name: false
                    icon: true
            show_header_toggle: false
            state_color: true
          - type: entities
            entities:
              - entity: sensor.outside_temperature
                type: custom:multiple-entity-row
                name: Buiten
                icon: mdi:shovel
                secondary_info: last-changed
                entities:
                  - entity: sensor.outside_temperature
                    name: false
                    icon: true
              - entity: sensor.inside_temperature
                type: custom:multiple-entity-row
                name: Binnen
                icon: mdi:thermostat
                secondary_info: last-changed
                entities:
                  - entity: sensor.inside_temperature
                    name: false
                    icon: true
              - entity: sensor.climate_temperature
                type: custom:multiple-entity-row
                name: Verwarming
                icon: mdi:radiator
                secondary_info: last-changed
                entities:
                  - entity: sensor.climate_temperature
                    name: false
                    icon: true
            show_header_toggle: false
            state_color: true
          - show_current: true
            show_forecast: true
            type: weather-forecast
            entity: weather.forecast_buurmanshomeassistant
            name: Delft
            forecast_type: daily
            secondary_info_attribute: wind_speed
          - type: custom:neerslag-card
            title: Neerslag
            entities:
              - sensor.neerslag_buienalarm_regen_data
              - sensor.neerslag_buienradar_regen_data
  - title: afval
    path: afval
    icon: mdi:recycle-variant
    theme: buurmans-bubble-theme
    badges: []
    cards:
      - type: custom:decluttering-card
        template: navigation_header
      - type: custom:auto-entities
        card:
          type: entities
          show_state: true
          show_name: true
          title: Afval ophaal kalender
          show_icon: false
          state_color: false
        filter:
          include:
            - entity_id: sensor.afvalinfo_*
          exclude:
            - state: unknown
            - entity_id: sensor.afvalinfo_afval_voor_morgen
            - entity_id: sensor.afvalinfo_afval_voor_vandaag
            - entity_id: sensor.afvalinfo_first_upcomming_trash_type
        sort:
          method: attribute
          attribute: days_until_collection_date
          numeric: true
  - title: internet
    path: internet
    icon: mdi:web
    theme: buurmans-bubble-theme
    type: custom:horizontal-layout
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:decluttering-card
            template: navigation_header
          - type: vertical-stack
            cards:
              - type: custom:uptime-card
                entity: binary_sensor.kpn_modem_ping_uptime
                hours_to_show: 48
                title_adaptive_color: true
                status_adaptive_color: true
                icon: mdi:web
                ko_icon: mdi:web-cancel
                update_interval: 30
                severity: 10
                icon_adaptive_color: true
                tooltip_adaptive_color: true
                alias:
                  ok: Connected
                  ko: Disconnected
                alignment:
                  icon_first: false
                  tooltip_first: false
                tooltip:
                  hour24: true
                bar:
                  height: 20
                  round: 4
              - type: custom:uptime-card
                entity: binary_sensor.internet_ping_uptime
                hours_to_show: 48
                title_adaptive_color: true
                status_adaptive_color: true
                icon: mdi:web
                ko_icon: mdi:web-cancel
                update_interval: 30
                severity: 10
                icon_adaptive_color: true
                tooltip_adaptive_color: true
                alias:
                  ok: Connected
                  ko: Disconnected
                alignment:
                  icon_first: false
                  tooltip_first: false
                tooltip:
                  hour24: true
                bar:
                  height: 20
                  round: 4
                title_template: Google ping
              - type: custom:uptime-card
                entity: binary_sensor.pi_hole_main_ping_uptime
                hours_to_show: 48
                title_adaptive_color: true
                status_adaptive_color: true
                icon: mdi:web
                ko_icon: mdi:web-cancel
                update_interval: 30
                severity: 10
                icon_adaptive_color: true
                tooltip_adaptive_color: true
                alias:
                  ok: Connected
                  ko: Disconnected
                alignment:
                  icon_first: false
                  tooltip_first: false
                tooltip:
                  hour24: true
                bar:
                  height: 20
                  round: 4
                title_template: Pi-hole Main
              - type: custom:uptime-card
                entity: binary_sensor.pi_hole_fallback_ping_uptime
                hours_to_show: 48
                title_adaptive_color: true
                status_adaptive_color: true
                icon: mdi:web
                ko_icon: mdi:web-cancel
                update_interval: 30
                severity: 10
                icon_adaptive_color: true
                tooltip_adaptive_color: true
                alias:
                  ok: Connected
                  ko: Disconnected
                alignment:
                  icon_first: false
                  tooltip_first: false
                tooltip:
                  hour24: true
                bar:
                  height: 20
                  round: 4
                clip: {}
                tap_action: {}
                blink: {}
                title_template: Pi-hole Fallback
              - type: custom:uptime-card
                entity: binary_sensor.cloudflare_tunnels_ping_uptime
                hours_to_show: 48
                title_adaptive_color: true
                status_adaptive_color: true
                icon: mdi:web
                ko_icon: mdi:web-cancel
                update_interval: 30
                severity: 10
                icon_adaptive_color: true
                tooltip_adaptive_color: true
                alias:
                  ok: Connected
                  ko: Disconnected
                alignment:
                  icon_first: false
                  tooltip_first: false
                tooltip:
                  hour24: true
                bar:
                  height: 20
                  round: 4
                title_template: 'Cloudflare Tunnels '
      - type: vertical-stack
        cards:
          - chart_type: line
            period: day
            days_to_show: 14
            type: statistics-graph
            title: Speedtest
            entities:
              - sensor.speedtest_download
              - sensor.speedtest_upload
              - sensor.technicolor_tc7210_kib_s_received
            stat_types:
              - max
          - type: entities
            entities:
              - entity: sensor.speedtest_download
                name: Last Download
                secondary_info: last-updated
              - entity: sensor.average_speedtest_download
                name: Average Download
                secondary_info: none
              - entity: sensor.speedtest_upload
                name: Last Upload
              - entity: sensor.average_speedtest_upload
                name: Average Upload
              - entity: sensor.speedtest_ping
                name: Ping
              - entity: sensor.average_speedtest_ping
                name: Average ping
                secondary_info: none
            title: SpeedTest
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-entity-card
                entity: sensor.speedtest_download
                tap_action:
                  action: call-service
                  service: homeassistant.update_entity
                  data: {}
                  target:
                    entity_id: sensor.speedtest_download
                primary_info: name
                secondary_info: last-updated
                icon_type: icon
                layout: vertical
                fill_container: false
                name: Down
              - type: custom:mushroom-entity-card
                entity: sensor.speedtest_upload
                tap_action:
                  action: call-service
                  service: homeassistant.update_entity
                  data: {}
                  target:
                    entity_id: sensor.speedtest_upload
                primary_info: name
                secondary_info: last-updated
                icon_type: icon
                layout: vertical
                fill_container: false
                name: Up
      - type: vertical-stack
        cards:
          - type: entities
            entities:
              - entity: sensor.piholes_total_queries_today
                secondary_info: last-changed
              - entity: sensor.piholes_blocked_today
              - entity: sensor.piholes_blocked_percentage
              - entity: sensor.piholes_domains_blocked
                secondary_info: none
              - entity: switch.pi_hole_main
                secondary_info: none
              - entity: switch.pi_hole_fallback
                secondary_info: none
            title: Pi-holes
            show_header_toggle: false
            state_color: true
          - type: horizontal-stack
            cards:
              - show_name: true
                show_icon: true
                type: button
                tap_action:
                  action: url
                  url_path: http://192.168.2.210/admin/index.php
                entity: binary_sensor.pi_hole_main_status
                show_state: false
                name: Main
                icon_height: 50px
              - show_name: true
                show_icon: true
                type: button
                tap_action:
                  action: url
                  url_path: http://192.168.2.211/admin/index.php
                entity: binary_sensor.pi_hole_fallback_status
                show_state: false
                name: Fallback
                icon_height: 50px
          - type: custom:mushroom-template-card
            primary: Pi-Holes
            secondary: Klik om 5 minuten uit te schakelen
            icon: mdi:pi-hole
            icon_color: >-
              {% if is_state('binary_sensor.pi_hole_main_status', 'on') and
              is_state('binary_sensor.pi_hole_fallback_status', 'on')%}
                red
              {% else %}
                disabled
              {% endif %}
            badge_icon: >-
              {% if is_state('binary_sensor.pi_hole_main_status', 'off') or
              is_state('binary_sensor.pi_hole_fallback_status', 'off')%}
                mdi:pause
              {% endif %}
            tap_action:
              action: call-service
              service: pi_hole.disable
              target:
                entity_id:
                  - switch.pi_hole_main
                  - switch.pi_hole_fallback
              data:
                duration: '00:05:00'
            fill_container: false
            entity: sensor.pi_hole_main_seen_clients
            badge_color: blue
      - type: history-graph
        entities:
          - entity: sensor.stef_phone_wifi_signal_strength
          - entity: sensor.chantal_phone_wifi_signal_strength
          - entity: sensor.fiek_phone_wifi_signal_strength
        title: wifi
        logarithmic_scale: false
        hours_to_show: 8
        min_y_axis: -100
        max_y_axis: 0
  - title: f1
    path: f1
    icon: mdi:racing-helmet
    theme: buurmans-bubble-theme
    type: custom:horizontal-layout
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:decluttering-card
            template: navigation_header
          - type: custom:teamtracker-card
            entity: sensor.feyenoord
          - type: custom:formulaone-card
            card_type: next_race
            title: Volgende Race
            f1_font: true
            date_locale: NL
            image_clickable: true
            translations:
              date: Date
              practice1: VT1
              practice2: VT2
              practice3: VT3
              race: Race
              racename: Race name
              circuitname: Circuit name
              location: Location
              racetime: Race
              sprint: Sprint
              qualifying: Qualifying
              endofseason: Season is over. See you next year!!
          - type: custom:formulaone-card
            card_type: schedule
            title: Schema
            f1_font: true
            standings:
              show_flag: true
      - type: custom:formulaone-card
        card_type: driver_standings
        f1_font: true
        title: Driver Standings
        standings:
          show_flag: true
          show_team: false
          show_teamlogo: true
      - type: custom:formulaone-card
        card_type: constructor_standings
        title: Constructor Standings
        f1_font: true
        show_teamlogo: true
  - title: homelab
    path: homelab
    icon: mdi:server-outline
    theme: buurmans-bubble-theme
    layout:
      width: 300
      max_cols: 4
    type: custom:masonry-layout
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:decluttering-card
            template: navigation_header
      - type: custom:collapsable-cards
        title_card:
          type: custom:uptime-card
          entity: binary_sensor.uptimekuma_proxmox_server
          hours_to_show: 48
          title_adaptive_color: true
          status_adaptive_color: true
          update_interval: 300
          severity: 2
          icon_adaptive_color: true
          tooltip_adaptive_color: true
          average_template: '[[[ return variables.uptime.toFixed(2); ]]]% uptime'
          alias:
            ok: Online
            ko: Offline
          alignment:
            icon_first: false
            tooltip_first: true
          tooltip:
            hour24: true
          bar:
            height: 15
            round: 1
          show:
            icon: false
            title: true
        title: Uptimes
        cards:
          - type: custom:uptime-card
            entity: binary_sensor.uptimekuma_pihole_main_container
            hours_to_show: 48
            title_adaptive_color: true
            status_adaptive_color: true
            update_interval: 300
            severity: 2
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            average_template: '[[[ return variables.uptime.toFixed(2); ]]]% uptime'
            alias:
              ok: Online
              ko: Offline
            alignment:
              icon_first: false
              tooltip_first: true
            tooltip:
              hour24: true
            bar:
              height: 15
              round: 1
            show:
              icon: false
              title: true
          - type: custom:uptime-card
            entity: binary_sensor.uptimekuma_pihole_fallback_container
            hours_to_show: 48
            title_adaptive_color: true
            status_adaptive_color: true
            update_interval: 300
            severity: 2
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            average_template: '[[[ return variables.uptime.toFixed(2); ]]]% uptime'
            alias:
              ok: Online
              ko: Offline
            alignment:
              icon_first: false
              tooltip_first: true
            tooltip:
              hour24: true
            bar:
              height: 15
              round: 1
            show:
              icon: false
              title: true
          - type: custom:uptime-card
            entity: binary_sensor.uptimekuma_pialert_container
            hours_to_show: 48
            title_adaptive_color: true
            status_adaptive_color: true
            update_interval: 300
            severity: 2
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            average_template: '[[[ return variables.uptime.toFixed(2); ]]]% uptime'
            alias:
              ok: Online
              ko: Offline
            alignment:
              icon_first: false
              tooltip_first: true
            tooltip:
              hour24: true
            bar:
              height: 15
              round: 1
            show:
              icon: false
              title: true
          - type: custom:uptime-card
            entity: binary_sensor.uptimekuma_cloudflare_container
            hours_to_show: 48
            title_adaptive_color: true
            status_adaptive_color: true
            update_interval: 300
            severity: 2
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            average_template: '[[[ return variables.uptime.toFixed(2); ]]]% uptime'
            alias:
              ok: Online
              ko: Offline
            alignment:
              icon_first: false
              tooltip_first: true
            tooltip:
              hour24: true
            bar:
              height: 15
              round: 1
            show:
              icon: false
              title: true
          - type: custom:uptime-card
            entity: binary_sensor.uptimekuma_uptime_kuma_container
            hours_to_show: 48
            title_adaptive_color: true
            status_adaptive_color: true
            update_interval: 300
            severity: 2
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            average_template: '[[[ return variables.uptime.toFixed(2); ]]]% uptime'
            alias:
              ok: Online
              ko: Offline
            alignment:
              icon_first: false
              tooltip_first: true
            tooltip:
              hour24: true
            bar:
              height: 15
              round: 1
            show:
              icon: false
              title: true
          - type: custom:uptime-card
            entity: binary_sensor.uptimekuma_photoprism_container
            hours_to_show: 48
            title_adaptive_color: true
            status_adaptive_color: true
            update_interval: 300
            severity: 2
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            average_template: '[[[ return variables.uptime.toFixed(2); ]]]% uptime'
            alias:
              ok: Online
              ko: Offline
            alignment:
              icon_first: false
              tooltip_first: true
            tooltip:
              hour24: true
            bar:
              height: 15
              round: 1
            show:
              icon: false
              title: true
          - type: custom:uptime-card
            entity: binary_sensor.uptimekuma_plex_container
            hours_to_show: 48
            title_adaptive_color: true
            status_adaptive_color: true
            update_interval: 300
            severity: 2
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            average_template: '[[[ return variables.uptime.toFixed(2); ]]]% uptime'
            alias:
              ok: Online
              ko: Offline
            alignment:
              icon_first: false
              tooltip_first: true
            tooltip:
              hour24: true
            bar:
              height: 15
              round: 1
            show:
              icon: false
              title: true
          - type: custom:uptime-card
            entity: binary_sensor.uptimekuma_sabnzb_container
            hours_to_show: 48
            title_adaptive_color: true
            status_adaptive_color: true
            update_interval: 300
            severity: 2
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            average_template: '[[[ return variables.uptime.toFixed(2); ]]]% uptime'
            alias:
              ok: Online
              ko: Offline
            alignment:
              icon_first: false
              tooltip_first: true
            tooltip:
              hour24: true
            bar:
              height: 15
              round: 1
            show:
              icon: false
              title: true
          - type: custom:uptime-card
            entity: binary_sensor.uptimekuma_handbrake_container
            hours_to_show: 48
            title_adaptive_color: true
            status_adaptive_color: true
            update_interval: 300
            severity: 2
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            average_template: '[[[ return variables.uptime.toFixed(2); ]]]% uptime'
            alias:
              ok: Online
              ko: Offline
            alignment:
              icon_first: false
              tooltip_first: true
            tooltip:
              hour24: true
            bar:
              height: 15
              round: 1
            show:
              icon: false
              title: true
          - type: custom:uptime-card
            entity: binary_sensor.uptimekuma_heimdall_container
            hours_to_show: 48
            title_adaptive_color: true
            status_adaptive_color: true
            update_interval: 300
            severity: 2
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            average_template: '[[[ return variables.uptime.toFixed(2); ]]]% uptime'
            alias:
              ok: Online
              ko: Offline
            alignment:
              icon_first: false
              tooltip_first: true
            tooltip:
              hour24: true
            bar:
              height: 15
              round: 1
            show:
              icon: false
              title: true
          - type: custom:uptime-card
            entity: binary_sensor.uptimekuma_passbolt_application
            hours_to_show: 48
            title_adaptive_color: true
            status_adaptive_color: true
            update_interval: 300
            severity: 2
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            average_template: '[[[ return variables.uptime.toFixed(2); ]]]% uptime'
            alias:
              ok: Online
              ko: Offline
            alignment:
              icon_first: false
              tooltip_first: true
            tooltip:
              hour24: true
            bar:
              height: 15
              round: 1
            show:
              icon: false
              title: true
          - type: custom:uptime-card
            entity: binary_sensor.uptimekuma_filebrowser_container
            hours_to_show: 48
            title_adaptive_color: true
            status_adaptive_color: true
            update_interval: 300
            severity: 2
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            average_template: '[[[ return variables.uptime.toFixed(2); ]]]% uptime'
            alias:
              ok: Online
              ko: Offline
            alignment:
              icon_first: false
              tooltip_first: true
            tooltip:
              hour24: true
            bar:
              height: 15
              round: 1
            show:
              icon: false
              title: true
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:bar-card
                columns: 1
                entity_row: false
                title: DS414+
                height: 35px
                width: 100%
                entities:
                  - entity: sensor.buurmansbignas_cpu_gebruik_totaal
                    name: CPU
                    icon: mdi:cpu-64-bit
                  - entity: sensor.buurmansbignas_geheugengebruik_fysiek
                    name: RAM
                    icon: mdi:brain
                  - entity: sensor.buurmansbignas_volume_1_volume_gebruikt
                    name: Disc
                    icon: mdi:harddisk
                severity:
                  - color: var(--success-color)
                    from: 0
                    to: 50
                  - color: var(--warning-color)
                    from: 51
                    to: 75
                  - color: var(--error-color)
                    from: 76
                    to: 100
                positions:
                  indicator: none
              - type: vertical-stack
                cards:
                  - show_state: false
                    show_name: false
                    camera_view: auto
                    type: picture-entity
                    image: /local/images/ds-414-s.jpg
                    entity: binary_sensor.uptimekuma_buurmansbignas
                    name: Uptime
                  - type: custom:mushroom-template-card
                    primary: '{{ states(''sensor.buurmansbignas_uptime_elapsed'') }}'
                    secondary: ''
                    icon: >-
                      {% if is_state('binary_sensor.uptimekuma_buurmansbignas',
                      'on') %}
                        mdi:play-circle
                      {% else %}
                        mdi:stop-circle
                      {% endif %}
                    fill_container: true
                    layout: horizontal
                    multiline_secondary: false
                    badge_icon: ''
                    tap_action:
                      action: more-info
                    entity: sensor.synology_uptime_last_boot
                    icon_color: >-
                      {% if is_state('binary_sensor.uptimekuma_buurmansbignas',
                      'on') %}
                        green
                      {% else %}
                        red
                      {% endif %}
          - type: custom:mushroom-template-card
            primary: >-
              Volume used {{
              states('sensor.buurmansbignas_volume_1_gebruikte_ruimte') |
              round(2) }} / {{
              states('sensor.buurmansbignas_volume_1_totale_grootte') | round(2)
              }} {{ state_attr('sensor.buurmansbignas_volume_1_totale_grootte',
              'unit_of_measurement') }}
            secondary: ''
            icon: mdi:chart-pie
            fill_container: true
            layout: horizontal
            multiline_secondary: false
            badge_icon: ''
            tap_action:
              action: more-info
            entity: sensor.nas_main_drive_used_space
            icon_color: >
              {% if states('sensor.buurmansbignas_volume_1_volume_gebruikt') |
              float < 50 %}
                green
              {% else %}
                red
              {% endif %}
          - type: custom:bar-card
            columns: 2
            entity_row: false
            height: 35px
            entities:
              - entity: sensor.buurmansbignas_drive_1_temperatuur
                name: Drive 1
                icon: mdi:thermometer
              - entity: sensor.buurmansbignas_drive_2_temperatuur
                name: Drive 2
                icon: mdi:thermometer
              - entity: sensor.buurmansbignas_drive_3_temperatuur
                name: Drive 3
                icon: mdi:thermometer
              - entity: sensor.buurmansbignas_drive_4_temperatuur
                name: Drive 4
                icon: mdi:thermometer
              - entity: sensor.buurmansbignas_temperatuur
                name: System
                icon: mdi:thermometer
            severity:
              - color: var(--success-color)
                from: 0
                to: 50
              - color: var(--warning-color)
                from: 51
                to: 75
              - color: var(--error-color)
                from: 76
                to: 100
            positions:
              indicator: none
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:bar-card
                columns: 1
                entity_row: false
                title: DS120j
                height: 35px
                width: 100%
                entities:
                  - entity: sensor.buurmansnas_cpu_utilization_total
                    name: CPU
                    icon: mdi:cpu-64-bit
                  - entity: sensor.buurmansnas_memory_usage_real
                    name: RAM
                    icon: mdi:brain
                  - entity: sensor.nas_main_drive_volume_used
                    name: Disc
                    icon: mdi:harddisk
                severity:
                  - color: var(--success-color)
                    from: 0
                    to: 50
                  - color: var(--warning-color)
                    from: 51
                    to: 75
                  - color: var(--error-color)
                    from: 76
                    to: 100
                positions:
                  indicator: none
              - type: vertical-stack
                cards:
                  - show_state: false
                    show_name: false
                    camera_view: auto
                    type: picture-entity
                    image: /local/images/ds-120-s3.jpeg
                    entity: sensor.synology_uptime_elapsed
                  - type: custom:mushroom-template-card
                    primary: '{{ states(''sensor.synology_uptime_elapsed'') }}'
                    secondary: ''
                    icon: >-
                      {% if
                      is_state('binary_sensor.uptimekuma_buurmanssmallnas',
                      'on') %}
                        mdi:play-circle
                      {% else %}
                        mdi:stop-circle
                      {% endif %}
                    fill_container: true
                    layout: horizontal
                    multiline_secondary: false
                    badge_icon: ''
                    tap_action:
                      action: more-info
                    entity: sensor.synology_uptime_last_boot
                    icon_color: >-
                      {% if
                      is_state('binary_sensor.uptimekuma_buurmanssmallnas',
                      'on') %}
                        green
                      {% else %}
                        red
                      {% endif %}
          - type: custom:mushroom-template-card
            primary: >-
              Volume used {{ states('sensor.nas_main_drive_used_space')
              |round(2)}} /  {{ states('sensor.nas_main_drive_total_size') |
              round(2) }} {{ state_attr('sensor.nas_main_drive_total_size',
              'unit_of_measurement') }}
            secondary: ''
            icon: mdi:chart-pie
            fill_container: true
            layout: horizontal
            multiline_secondary: false
            badge_icon: ''
            tap_action:
              action: more-info
            entity: sensor.nas_main_drive_used_space
            icon_color: |
              {% if states('sensor.nas_main_drive_volume_used') | float < 50 %}
                green
              {% else %}
                red
              {% endif %}
          - type: custom:bar-card
            columns: 1
            entity_row: false
            height: 35px
            entities:
              - entity: sensor.nas_usb_drive_temperature
                name: Drive
                icon: mdi:thermometer
              - entity: sensor.buurmansnas_temperature
                name: System
                icon: mdi:thermometer
            severity:
              - color: var(--success-color)
                from: 0
                to: 50
              - color: var(--warning-color)
                from: 51
                to: 75
              - color: var(--error-color)
                from: 76
                to: 100
            positions:
              indicator: none
      - type: vertical-stack
        cards:
          - type: horizontal-stack
            cards:
              - type: custom:bar-card
                columns: 1
                entity_row: false
                title: HP 800 G3
                decimal: 2
                entities:
                  - entity: sensor.node_proxmox_cpu_used
                    name: CPU
                    icon: mdi:cpu-64-bit
                  - entity: sensor.node_proxmox_memory_used_percentage
                    name: RAM
                    icon: mdi:brain
                  - entity: sensor.node_proxmox_disk_used_percentage
                    name: ZFS
                    icon: mdi:harddisk
                  - entity: sensor.storage_nvme_disk_used_percentage
                    name: NVME
                    icon: mdi:harddisk-plus
                severity:
                  - color: var(--success-color)
                    from: 0
                    to: 50
                  - color: var(--warning-color)
                    from: 51
                    to: 75
                  - color: var(--error-color)
                    from: 76
                    to: 100
                positions:
                  indicator: inside
              - type: vertical-stack
                cards:
                  - show_state: false
                    show_name: false
                    camera_view: auto
                    type: picture-entity
                    image: /local/images/HP-EliteDesk-800-G3-SFF3.jpg
                    entity: sensor.proxmox_server_cpu_load
                    name: Load
                  - type: custom:gap-card
                  - type: custom:mushroom-template-card
                    primary: '{{ states(''sensor.proxmox_server_uptime_elapsed'') }}'
                    secondary: ''
                    icon: >-
                      {% if is_state('binary_sensor.node_proxmox_status', 'on')
                      %}
                        mdi:play-circle
                      {% else %}
                        mdi:stop-circle
                      {% endif %}
                    fill_container: true
                    layout: horizontal
                    multiline_secondary: false
                    badge_icon: ''
                    tap_action:
                      action: more-info
                    entity: sensor.node_proxmox_last_boot
                    icon_color: >-
                      {% if is_state('binary_sensor.node_proxmox_status', 'on')
                      %}
                        green
                      {% else %}
                        red
                      {% endif %}
          - type: custom:mushroom-template-card
            primary: >-
              Volume used {{ states('sensor.proxmox_server_used') |round(2)}} / 
              {{ states('sensor.proxmox_server_used') | float +
              states('sensor.proxmox_server_free') | float }} GB
            secondary: ''
            icon: mdi:chart-pie
            fill_container: true
            layout: horizontal
            multiline_secondary: false
            badge_icon: ''
            tap_action:
              action: more-info
            entity: sensor.nas_main_drive_used_space
            icon_color: ''
          - type: custom:bar-card
            columns: 2
            entity_row: false
            entities:
              - entity: sensor.proxmox_server_core_0_temperature
                name: Core 0
                icon: mdi:thermometer
              - entity: sensor.proxmox_server_core_1_temperature
                name: Core 1
                icon: mdi:thermometer
              - entity: sensor.proxmox_server_core_2_temperature
                name: Core 2
                icon: mdi:thermometer
              - entity: sensor.proxmox_server_core_3_temperature
                name: Core 3
                icon: mdi:thermometer
              - entity: sensor.proxmox_server_package_id_0_temperature
                name: Package
                icon: mdi:thermometer
              - entity: sensor.proxmox_server_composite_temperature
                name: System
                icon: mdi:server
            severity:
              - color: var(--success-color)
                from: 0
                to: 50
              - color: var(--warning-color)
                from: 51
                to: 75
              - color: var(--error-color)
                from: 76
                to: 100
            positions:
              indicator: none
      - type: horizontal-stack
        cards:
          - type: custom:bar-card
            columns: 1
            entity_row: false
            title: HA
            height: 35px
            width: 100%
            decimal: 2
            entities:
              - entity: sensor.qemu_home_assistant_main_250_cpu_used
                name: CPU
                icon: mdi:cpu-64-bit
              - entity: sensor.qemu_home_assistant_main_250_memory_used_percentage
                name: RAM
                icon: mdi:brain
              - entity: sensor.system_monitor_disk_use_percent
                name: Disc
                icon: mdi:harddisk
            severity:
              - color: var(--success-color)
                from: 0
                to: 50
              - color: var(--warning-color)
                from: 51
                to: 75
              - color: var(--error-color)
                from: 76
                to: 100
            positions:
              indicator: none
          - type: vertical-stack
            cards:
              - show_state: false
                show_name: false
                camera_view: auto
                type: picture-entity
                image: >-
                  https://www.vsx.pl/wp-content/uploads/2020/11/Home-Assistant-Logo-1-500x383@2x.png
                entity: sensor.qemu_home_assistant_main_250_last_boot
              - type: custom:mushroom-template-card
                primary: >-
                  {{ (as_timestamp(now()) -
                  as_timestamp(states('sensor.qemu_home_assistant_main_250_last_boot')))
                  | timestamp_custom('%-d days %H:%M:%S', false) }}
                secondary: ''
                icon: >-
                  {% if
                  is_state('binary_sensor.uptimekuma_home_assistant_local',
                  'on') %}
                    mdi:play-circle
                  {% else %}
                    mdi:stop-circle
                  {% endif %}
                fill_container: true
                layout: horizontal
                multiline_secondary: false
                badge_icon: ''
                tap_action:
                  action: more-info
                entity: sensor.qemu_home_assistant_main_250_last_boot
                icon_color: >-
                  {% if
                  is_state('binary_sensor.uptimekuma_home_assistant_local',
                  'on') %}
                    green
                  {% else %}
                    red
                  {% endif %}
  - title: battery
    path: battery
    icon: mdi:battery-charging
    theme: buurmans-bubble-theme
    type: custom:horizontal-layout
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:decluttering-card
            template: navigation_header
          - type: vertical-stack
            cards:
              - type: conditional
                conditions:
                  - entity: sensor.low_battery_devices
                    state_not: unavailable
                card:
                  type: markdown
                  style: |
                    ha-card {
                      background-color: rgba(28, 28, 28, 0.8)
                    }
                  content: '{{states(''sensor.low_battery_devices'')}}'
                  title: Low Batteries
              - type: entities
                entities:
                  - entity: input_number.battery_threshold
                    name: 'Set Battery Threshold:'
                    style: |
                      ha-card {
                        background-color: rgba(28, 28, 28, 0.8)
                      }
                    secondary_info: last-changed
                title: Battery Threshold Config
                state_color: true
      - type: custom:auto-entities
        card:
          show_header_toggle: false
          title: Batterij overzicht
          type: entities
          state_color: true
        filter:
          include:
            - attributes:
                device_class: battery
              state: <= 100
          exclude:
            - name: /[Ll]ow/
            - name: /[Ss]tate/
        sort:
          method: state
          numeric: true
      - type: vertical-stack
        cards:
          - type: entities
            entities:
              - entity: person.chantal
              - entity: sensor.chantal_phone_battery_level
              - entity: sensor.chantal_phone_battery_health
              - entity: binary_sensor.chantal_phone_is_charging
              - entity: sensor.chantal_phone_charger_type
              - entity: sensor.chantal_phone_battery_temperature
            state_color: true
            show_header_toggle: false
            view_layout:
              column: 3
          - type: entities
            entities:
              - entity: person.stef
              - entity: sensor.stef_phone_battery_level
              - entity: sensor.stef_phone_battery_health
              - entity: binary_sensor.stef_phone_is_charging
              - entity: sensor.stef_phone_charger_type
              - entity: sensor.stef_phone_battery_temperature
            state_color: true
            show_header_toggle: false
            view_layout:
              column: 2
          - type: entities
            entities:
              - entity: person.fiek
              - entity: sensor.fiek_phone_battery_level
              - entity: sensor.stef_phone_battery_health
              - entity: sensor.fiek_phone_battery_state
              - entity: sensor.fiek_phone_charger_type
              - entity: sensor.fiek_phone_battery_temperature
            state_color: true
            show_header_toggle: false
            view_layout:
              column: 1
      - type: custom:auto-entities
        card:
          type: custom:bar-card
          icon: mdi:battery
          height: 20px
          positions:
            icon: 'off'
            indicator: inside
            name: inside
          severity:
            - color: Red
              from: 0
              to: 25
            - color: Orange
              from: 26
              to: 50
            - color: Green
              from: 51
              to: 100
          columns: 1
        show_empty: false
        sort:
          method: state
          reverse: false
          numeric: true
        filter:
          template: >-
            {% for state in states.sensor |
            selectattr('attributes.device_class', '==', 'battery') %}
                {{  state.entity_id }}
            {% endfor %}
  - title: header
    path: header
    icon: mdi:code-braces-box
    theme: buurmans-bubble-theme
    type: custom:horizontal-layout
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:decluttering-card
            template: navigation_header
          - type: custom:stack-in-card
            mode: horizontal
            cards:
              - type: custom:button-card
                aspect_ratio: 1/1.5
                entity: person.chantal
                show_entity_picture: true
                show_name: false
                show_state: false
                triggers_update: all
                tap_action:
                  action: navigate
                  navigation_path: /dashboard-home/chantal
                custom_fields:
                  location: |
                    [[[
                      var location = entity.state;
                      if (location == "not_home") location = "Weg";
                      else if (location == "home") location = "Thuis";
                      return `${location}`;
                    ]]]
                  location_changed: |
                    [[[
                      var changed = states["sensor.person_chantal_last_changed_formatted"].state;
                      return `${changed}`;
                    ]]]
                  location_icon: |
                    [[[
                      var icon = states["sensor.person_zone_color_icon_chantal"];           
                      return `<ha-icon icon='${icon.attributes.icon}' style='width: 16px;'></ha-icon>`;      
                    ]]]
                  battery: |
                    [[[
                      var battery = states['sensor.chantal_phone_battery_level'];
                      return `${battery.state}%<ha-icon icon='${battery.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]
                  network: |
                    [[[
                      var signal = states['sensor.chantal_phone_wifi_signal_strength'];
                      return `<ha-icon icon='${signal.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]  
                  distance: |
                    [[[
                      var distance = states['sensor.chantal_distance_from_home'].state;
                      return distance == 'home'
                        ? ``
                        : `${distance}`;
                    ]]]
                styles:
                  entity_picture:
                    - top: 17%
                  custom_fields:
                    network:
                      - position: absolute
                      - left: 5px
                      - top: 0px
                      - color: |-
                          [[[            
                            var wifi_signal = states['sensor.chantal_phone_wifi_signal_strength'].state;
                            if (wifi_signal == -1)
                              return "var(--info-color)";
                            if (wifi_signal >= -60)
                              return "var(--success-color)";
                            if (wifi_signal >= -75)
                              return "var(--warning-color)";            
                            else "var(--error-color)"
                          ]]]
                    battery:
                      - position: absolute
                      - right: 5px
                      - top: 5px
                      - font-size: 10px
                      - color: |-
                          [[[
                            var bat_lvl = states["sensor.chantal_phone_battery_level"].state;
                            if (bat_lvl < 25) 
                              return "var(--error-color)";
                            else if (bat_lvl < 50) 
                              return "var(--warning-color)";
                            else 
                              return "var(--success-color)";
                          ]]]
                    location:
                      - position: absolute
                      - right: 5px
                      - bottom: 20px
                      - font-size: 12px
                      - font-weight: bolder
                    location_changed:
                      - position: absolute
                      - right: 5px
                      - bottom: 5px
                      - font-size: 10px
                    location_icon:
                      - position: absolute
                      - left: 5px
                      - bottom: |-
                          [[[
                            var location = entity.state;
                            if (location == "home") return "5px"; 
                            else return "20px";
                          ]]]      
                      - color: |-
                          [[[     
                            return states["sensor.person_zone_color_icon_chantal"].state; 
                          ]]]
                    distance:
                      - position: absolute
                      - left: 5px
                      - bottom: 5px
                      - font-size: 10px
                  icon:
                    - width: 75%
                    - border: 4px solid
                    - border-radius: 0%
                    - border-color: |-
                        [[[     
                          return states["sensor.person_zone_color_icon_chantal"].state; 
                        ]]]
              - type: custom:button-card
                aspect_ratio: 1/1.5
                entity: person.stef
                show_entity_picture: true
                show_name: false
                show_state: false
                triggers_update: all
                tap_action:
                  action: navigate
                  navigation_path: /dashboard-home/stef
                custom_fields:
                  location: |
                    [[[
                      var location = entity.state;
                      if (location == "not_home") location = "Weg";
                      else if (location == "home") location = "Thuis";
                      return `${location}`;
                    ]]]
                  location_changed: |
                    [[[
                      var changed = states["sensor.person_stef_last_changed_formatted"].state;
                      return `${changed}`;
                    ]]]
                  location_icon: |
                    [[[
                      var icon = states["sensor.person_zone_color_icon_stef"];           
                      return `<ha-icon icon='${icon.attributes.icon}' style='width: 16px;'></ha-icon>`;      
                    ]]]
                  battery: |
                    [[[
                      var battery = states['sensor.stef_phone_battery_level'];
                      return `${battery.state}%<ha-icon icon='${battery.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]
                  network: |
                    [[[
                      var signal = states['sensor.stef_phone_wifi_signal_strength'];
                      return `<ha-icon icon='${signal.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]  
                  distance: |
                    [[[
                      var distance = states['sensor.stef_distance_from_home'].state;
                      return distance == 'home'
                        ? ``
                        : `${distance}`;
                    ]]]
                styles:
                  entity_picture:
                    - top: 17%
                  custom_fields:
                    network:
                      - position: absolute
                      - left: 5px
                      - top: 0px
                      - color: |-
                          [[[            
                            var wifi_signal = states['sensor.stef_phone_wifi_signal_strength'].state;
                            if (wifi_signal == -1)
                              return "var(--info-color)";
                            if (wifi_signal >= -60)
                              return "var(--success-color)";
                            if (wifi_signal >= -75)
                              return "var(--warning-color)";            
                            else "var(--error-color)"
                          ]]]
                    battery:
                      - position: absolute
                      - right: 5px
                      - top: 5px
                      - font-size: 10px
                      - color: |-
                          [[[
                            var bat_lvl = states["sensor.stef_phone_battery_level"].state;
                            if (bat_lvl < 25) 
                              return "var(--error-color)";
                            else if (bat_lvl < 50) 
                              return "var(--warning-color)";
                            else 
                              return "var(--success-color)";
                          ]]]
                    location:
                      - position: absolute
                      - right: 5px
                      - bottom: 20px
                      - font-size: 12px
                      - font-weight: bolder
                    location_changed:
                      - position: absolute
                      - right: 5px
                      - bottom: 5px
                      - font-size: 10px
                    location_icon:
                      - position: absolute
                      - left: 5px
                      - bottom: |-
                          [[[
                            var location = entity.state;
                            if (location == "home") return "5px"; 
                            else return "20px";
                          ]]]      
                      - color: |-
                          [[[     
                            return states["sensor.person_zone_color_icon_stef"].state; 
                          ]]]
                    distance:
                      - position: absolute
                      - left: 5px
                      - bottom: 5px
                      - font-size: 10px
                  icon:
                    - width: 75%
                    - border: 4px solid
                    - border-radius: 0%
                    - border-color: |-
                        [[[     
                          return states["sensor.person_zone_color_icon_stef"].state; 
                        ]]]
              - type: custom:button-card
                aspect_ratio: 1/1.5
                entity: person.fiek
                show_entity_picture: true
                show_name: false
                show_state: false
                triggers_update: all
                tap_action:
                  action: navigate
                  navigation_path: /dashboard-home/fiek
                custom_fields:
                  location: |
                    [[[
                      var location = entity.state;
                      if (location == "not_home") location = "Weg";
                      else if (location == "home") location = "Thuis";
                      return `${location}`;
                    ]]]
                  location_changed: |
                    [[[
                      var changed = states["sensor.person_fiek_last_changed_formatted"].state;
                      return `${changed}`;
                    ]]]
                  location_icon: |
                    [[[
                      var icon = states["sensor.person_zone_color_icon_fiek"];           
                      return `<ha-icon icon='${icon.attributes.icon}' style='width: 16px;'></ha-icon>`;      
                    ]]]
                  battery: |
                    [[[
                      var battery = states['sensor.fiek_phone_battery_level'];
                      return `${battery.state}%<ha-icon icon='${battery.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]
                  network: |
                    [[[
                      var signal = states['sensor.fiek_phone_wifi_signal_strength'];
                      return `<ha-icon icon='${signal.attributes.icon}' style='width: 16px;'></ha-icon>`;
                    ]]]  
                  distance: |
                    [[[
                      var distance = states['sensor.fiek_distance_from_home'].state;
                      return distance == 'home'
                        ? ``
                        : `${distance}`;
                    ]]]
                styles:
                  entity_picture:
                    - top: 17%
                  custom_fields:
                    network:
                      - position: absolute
                      - left: 5px
                      - top: 0px
                      - color: |-
                          [[[            
                            var wifi_signal = states['sensor.fiek_phone_wifi_signal_strength'].state;
                            if (wifi_signal == -1)
                              return "var(--info-color)";
                            if (wifi_signal >= -60)
                              return "var(--success-color)";
                            if (wifi_signal >= -75)
                              return "var(--warning-color)";            
                            else "var(--error-color)"
                          ]]]
                    battery:
                      - position: absolute
                      - right: 5px
                      - top: 5px
                      - font-size: 10px
                      - color: |-
                          [[[
                            var bat_lvl = states["sensor.fiek_phone_battery_level"].state;
                            if (bat_lvl < 25) 
                              return "var(--error-color)";
                            else if (bat_lvl < 50) 
                              return "var(--warning-color)";
                            else 
                              return "var(--success-color)";
                          ]]]
                    location:
                      - position: absolute
                      - right: 5px
                      - bottom: 20px
                      - font-size: 12px
                      - font-weight: bolder
                    location_changed:
                      - position: absolute
                      - right: 5px
                      - bottom: 5px
                      - font-size: 10px
                    location_icon:
                      - position: absolute
                      - left: 5px
                      - bottom: |-
                          [[[
                            var location = entity.state;
                            if (location == "home") return "5px"; 
                            else return "20px";
                          ]]]      
                      - color: |-
                          [[[     
                            return states["sensor.person_zone_color_icon_fiek"].state; 
                          ]]]
                    distance:
                      - position: absolute
                      - left: 5px
                      - bottom: 5px
                      - font-size: 10px
                  icon:
                    - width: 75%
                    - border: 4px solid
                    - border-radius: 0%
                    - border-color: |-
                        [[[     
                          return states["sensor.person_zone_color_icon_fiek"].state; 
                        ]]]
      - type: vertical-stack
        cards:
          - type: custom:mushroom-title-card
            title: ''
            subtitle: 'Header used in declutter:'
          - type: custom:stack-in-card
            mode: vertical
            cards:
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: ''
                    icon: |-
                      {{ 
                      'mdi:home' if states('sensor.is_anyone_home') == 'True' 
                      else 'mdi:home-off' 
                      }}
                    layout: vertical
                    tap_action:
                      action: navigate
                      navigation_path: /dashboard-home/home
                    icon_color: |-
                      {{ 
                      'green' if states('sensor.is_anyone_home') == 'True' 
                      else 'red' 
                      }}
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    fill_container: true
                    badge_icon: >-
                      {% set
                      people_at_home=states('sensor.number_of_people_home') |
                      int %}

                      {{ 'mdi:numeric-' ~ people_at_home if people_at_home > 0
                      else '' }}
                    badge_color: orange
                    multiline_secondary: false
                  - type: custom:mushroom-light-card
                    entity: light.group_all
                    secondary_info: none
                    show_brightness_control: false
                    show_color_temp_control: false
                    use_light_color: true
                    collapsible_controls: false
                    layout: vertical
                    primary_info: none
                    icon_type: icon
                    double_tap_action:
                      action: call-service
                      service: light.turn_off
                      data:
                        transition: 10
                      target:
                        entity_id: light.group_all
                    tap_action:
                      action: navigate
                      navigation_path: /dashboard-home/lights
                    hold_action:
                      action: none
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: ''
                    icon: mdi:account-group-outline
                    icon_color: |-
                      {% if states('sensor.is_anyone_home') == 'False' %}
                        green
                      {% endif %}
                    layout: vertical
                    tap_action:
                      action: navigate
                      navigation_path: /dashboard-home/persons
                    fill_container: true
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    badge_icon: ''
                    badge_color: ''
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: ''
                    icon: >-
                      {% if is_state("sensor.is_any_mediaplayer_playing",
                      "True") %}
                        mdi:music
                      {% else %} 
                        mdi:music-off
                      {% endif %}
                    icon_color: >-
                      {% if is_state("sensor.is_any_mediaplayer_playing",
                      "True") %}
                        green
                      {% endif %}
                    layout: vertical
                    tap_action:
                      action: navigate
                      navigation_path: /dashboard-home/mediaplayers
                    fill_container: true
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    badge_icon: >-
                      {% set active_mediaplayers =
                      states('sensor.mediaplayers_active_count') | int %}

                      {{ 'mdi:numeric-' ~ active_mediaplayers if
                      active_mediaplayers > 0 else '' }}
                    badge_color: ''
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: ''
                    icon: >-
                      {% set temperature = (state_attr('climate.thermostat',
                      'temperature') | default(15)) %}

                      {% if is_state("binary_sensor.hot_tap_water", "on") %}
                        mdi:water-pump
                      {% elif temperature <= 15%}
                        mdi:radiator-off
                      {% elif temperature < 20.5 %}
                        mdi:radiator
                      {% else %}
                        mdi:fire
                      {% endif %}
                    icon_color: >-
                      {% set temperature = (state_attr('climate.thermostat',
                      'temperature') | default(15)) %}

                      {% if is_state("binary_sensor.hot_tap_water", "on") %}
                        red
                      {% elif temperature <= 15%}
                        disabled
                      {% elif temperature < 19.5 %}  
                        yellow
                      {% elif temperature <  19.9 %}
                        orange
                      {% else %}
                        red
                      {% endif %}
                    layout: vertical
                    tap_action:
                      action: navigate
                      navigation_path: /dashboard-home/verwarming
                    fill_container: true
                    badge_icon: ''
                    picture: ''
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: ''
                    icon: mdi:recycle-variant
                    icon_color: >
                      {% set upcomming_trash =
                      states('sensor.afvalinfo_first_upcomming_trash_type') %}

                      {% if 'Papier' in upcomming_trash %}
                        blue
                      {% elif 'PBD' in upcomming_trash %}
                        pink
                      {% elif 'GFT' in upcomming_trash %}
                        green
                      {% else %} 
                        red
                      {% endif %}
                    layout: vertical
                    tap_action:
                      action: navigate
                      navigation_path: /dashboard-home/afval
                    fill_container: true
                    badge_icon: ''
                    picture: ''
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    badge_color: ''
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: ''
                    icon: >
                      {% set onlinestate =
                      is_state("binary_sensor.internet_troubleshooting", "on")
                      %}

                      {% if onlinestate %}
                        mdi:web-check
                      {% else %}
                        mdi:web-off
                      {% endif %}
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                    tap_action:
                      action: navigate
                      navigation_path: /dashboard-home/internet
                    icon_color: >
                      {% set onlinestate =
                      is_state("binary_sensor.internet_troubleshooting", "on")
                      %}

                      {% if onlinestate %}
                       green
                      {% else %}
                       red
                      {% endif %}
                    layout: horizontal
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: ''
                    icon: mdi:racing-helmet
                    icon_color: ''
                    layout: vertical
                    tap_action:
                      action: navigate
                      navigation_path: /dashboard-home/f1
                    fill_container: true
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: ''
                    icon: mdi:server-outline
                    icon_color: >-
                      {% set current_cpu =
                      states('sensor.buurmansnas_cpu_utilization_total') | int
                      %}

                      {% if current_cpu < 10 %}
                        blue
                      {% elif current_cpu < 30 %}
                        green
                      {% elif current_cpu < 50 %}
                        yellow
                      {% elif current_cpu < 75 %}
                        orange
                      {% else %}
                        red
                      {% endif %}
                    layout: vertical
                    tap_action:
                      action: navigate
                      navigation_path: /dashboard-home/homelab
                    fill_container: true
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
                  - type: custom:mushroom-template-card
                    primary: ''
                    secondary: ''
                    icon: >-
                      {% set lowest_battery =
                      states('sensor.lowest_battery_percentage') | int %}

                      {% if lowest_battery < 10 %}
                        mdi:battery-10
                      {% elif lowest_battery < 20 %}
                        mdi:battery-20
                      {% elif lowest_battery < 30 %}
                        mdi:battery-30
                      {% elif lowest_battery < 40 %}
                        mdi:battery-40
                      {% elif lowest_battery < 50 %}
                        mdi:battery-50
                      {% elif lowest_battery < 60 %}
                        mdi:battery-60
                      {% elif lowest_battery < 70 %}
                        mdi:battery-70
                      {% elif lowest_battery < 80 %}
                        mdi:battery-80
                      {% elif lowest_battery < 90 %}
                        mdi:battery-90
                      {% else %}
                        mdi:battery-check
                      {% endif %}
                    icon_color: >-
                      {% set lowest_battery =
                      states('sensor.lowest_battery_percentage') | int %}

                      {% if lowest_battery < 20 %}
                        red
                      {% elif lowest_battery < 30 %}
                        orange
                      {% elif lowest_battery < 40 %}
                        yellow
                      {% else %}
                        green
                      {% endif %}
                    layout: vertical
                    tap_action:
                      action: navigate
                      navigation_path: /dashboard-home/battery
                    fill_container: false
                    badge_icon: ''
                    hold_action:
                      action: none
                    double_tap_action:
                      action: none
          - type: markdown
            content: |-
              The header icons is used to edit the main headers of all pages.

               * Make a backup!
               * Edit Dashboard
               * Copy header
               * Got Raw Configuration Editor
               * Remove the previous decluttering_template
              this should be everything above the start of ```views:``` section
               * paste the header in VSCODE
               * select all and add 3 tabs
               * paste the following above the header:

              ```
              decluttering_templates:
                navigation_header:
                  card:
              ```
              copy all and paste it above the ```views:``` section
            title: Header example
      - type: vertical-stack
        cards:
          - type: markdown
            content: >-
              <ha-alert alert-type="error">#f44336 or
              var(--error-color)</ha-alert>

              <ha-alert alert-type="warning">#ff9800 or var(--warning-color)
              </ha-alert>

              <ha-alert alert-type="info">#2196f3 or
              var(--info-color)</ha-alert>

              <ha-alert alert-type="success">#4caf50 or
              var(--success-color)</ha-alert>
          - type: horizontal-stack
            cards:
              - show_name: true
                show_icon: true
                type: button
                tap_action:
                  action: call-service
                  service: frontend.reload_themes
                  data: {}
                  target: {}
                show_state: false
                name: Themes
                icon: mdi:reload
              - type: custom:mushroom-entity-card
                entity: automation.github_push_changed
                icon_type: entity-picture
                primary_info: name
                name: Push changes to GitHub
                double_tap_action:
                  action: none
                hold_action:
                  action: none
                tap_action:
                  action: call-service
                  service: shell_command.push_to_github
                  data: {}
                  target: {}
                secondary_info: none
                icon_color: pink
                fill_container: true
                layout: vertical
              - show_name: true
                show_icon: true
                type: button
                tap_action:
                  action: call-service
                  service: python_script.reload
                  data: {}
                  target: {}
                icon: mdi:reload
                name: Python
              - show_name: true
                show_icon: true
                type: button
                tap_action:
                  action: navigate
                  navigation_path: /config/logs
                icon: mdi:script-text-key-outline
  - title: bubbles-debug
    path: bubbles-debug
    icon: mdi:chart-bubble
    type: custom:vertical-layout
    badges: []
    cards:
      - type: custom:bubble-card
        card_type: horizontal-buttons-stack
        auto_order: true
        1_link: '#woonkamer'
        1_icon: mdi:sofa-outline
        1_entity: light.woonkamer_lampen
        2_link: '#stefkamer'
        2_icon: mdi:controller-classic-outline
        2_entity: light.group_stef_kamer
        3_link: '#gang'
        3_icon: mdi:shoe-print
        3_entity: light.lamp_gang_light
        is_sidebar_hidden: false
        highlight_current_view: false
        rise_animation: false
      - type: vertical-stack
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#stefkamer'
            name: Stef kamer
            icon: mdi:controller-classic-outline
            entity: light.group_stef_kamer
            state: sensor.temperatuur_meter_stef_temperature
            auto_close: '15000'
            trigger_entity: binary_sensor.deur_sensor_stef_iaszone
          - type: custom:bubble-card
            card_type: separator
            name: Lampen
            icon: mdi:ceiling-light-multiple
            styles: |
              .separator-container {
                color: rgba(255,255,255,0.5)
              }
              ha-card > div > div > div:nth-child(2) {
                background-color: rgba(255,255,255,0.5)!important;
              }
          - type: horizontal-stack
            cards:
              - type: custom:bubble-card
                card_type: button
                entity: light.3a_smart_home_de_lxt56_ls27lx1_7_light
                icon: mdi:led-strip-variant
                name: 'plafon '
              - type: custom:bubble-card
                card_type: button
                entity: light.wled
                name: Vloer
          - type: custom:bubble-card
            card_type: button
            entity: light.lamp_plafon_stef_light
            button_type: slider
            name: Plafonnire
            icon: mdi:lightbulb
            show_state: false
          - type: custom:bubble-card
            card_type: separator
            name: Sensoren
            icon: mdi:robot
            styles: |
              .separator-container {
                color: rgba(255,255,255,0.5)
              }
              ha-card > div > div > div:nth-child(2) {
                background-color: rgba(255,255,255,0.5)!important;
              }
          - type: horizontal-stack
            cards:
              - type: custom:mushroom-template-card
                primary: >-
                  {% set closed =
                  is_state('binary_sensor.deur_sensor_stef_iaszone', 'off' ) %}
                  {% if closed %}
                    Deur (dicht)
                  {% else %}
                    Deur (open)
                  {% endif%}
                secondary: >-
                  {{
                  states['binary_sensor.deur_sensor_stef_iaszone'].last_changed
                  | relative_time }} ago
                icon: >-
                  {% set closed =
                  is_state('binary_sensor.deur_sensor_stef_iaszone', 'off' ) %} 

                  {% if closed %}
                    mdi:door-closed
                  {% else %}
                    mdi:door-open
                  {% endif%}
                icon_color: >-
                  {% set closed =
                  is_state('binary_sensor.deur_sensor_stef_iaszone', 'off' ) %} 

                  {% if closed %}
                    grey
                  {% else %}
                    yellow
                  {% endif%}
                entity: binary_sensor.deur_sensor_stef_iaszone
                tap_action:
                  action: more-info
                badge_icon: ''
                badge_color: ''
              - type: custom:mushroom-template-card
                primary: Deur {{ 'dicht' if door_state else 'open' }}
                secondary: >-
                  {{
                  states['binary_sensor.deur_sensor_stef_iaszone'].last_changed
                  | relative_time }} ago
                icon: mdi:door-{{ 'closed' if door_state else 'open' }}
                icon_color: '{{ ''grey'' if door_state else ''yellow'' }}'
                entity: binary_sensor.deur_sensor_stef_iaszone
                tap_action:
                  action: more-info
      - type: vertical-stack
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#gang'
            name: Gang
            state: binary_sensor.motion_sensor_gang_beneden_iaszone
            entity: light.lamp_gang_light
            icon: mdi:lightbulb
            auto_close: '15000'
          - type: vertical-stack
            cards:
              - type: custom:mushroom-template-card
                primary: >-
                  {% set is_door_closed =
                  is_state('binary_sensor.motion_sensor_gang_beneden_iaszone',
                  'off' ) %} Beweging {{ 'dicht' if is_door_closed else 'open'
                  }}
                secondary: >-
                  {{
                  states['binary_sensor.motion_sensor_gang_beneden_iaszone'].last_changed
                  | relative_time }} ago  
                icon: >-
                  {% set is_door_closed =
                  is_state('binary_sensor.motion_sensor_gang_beneden_iaszone',
                  'off' ) %} mdi:door-{{ 'closed' if is_door_closed else 'open'
                  }}
                icon_color: >-
                  {% set is_door_closed =
                  is_state('binary_sensor.motion_sensor_gang_beneden_iaszone',
                  'off' ) %} {{ 'grey' if is_door_closed else 'yellow' }}
                entity: binary_sensor.door_connector_opened_state
                tap_action:
                  action: more-info
      - type: vertical-stack
        cards:
          - type: custom:bubble-card
            card_type: pop-up
            hash: '#woonkamer'
            name: Woonkamer
            icon: mdi:ceiling-light-multiple
            entity: light.woonkamer_lampen
            state: sensor.temperature_woonkamer_temperature
            auto_close: '15000'
            margin_top_mobile: 0px
            margin_top_desktop: 0px
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: separator
                name: Lampen
                icon: mdi:lightbulb-group-outline
                styles: |
                  .separator-container {
                    color: rgba(255,255,255,0.5)
                  }
                  ha-card > div > div > div:nth-child(2) {
                    background-color: rgba(255,255,255,0.5)!important;
                  }
              - type: horizontal-stack
                cards:
                  - type: custom:bubble-card
                    card_type: button
                    entity: light.staande_lamp_woonkamer_light
                    button_type: slider
                    name: Staande lamp
                    icon: mdi:lightbulb
                    show_state: false
                  - type: custom:bubble-card
                    card_type: button
                    entity: light.lamp_plafon_achter_light
                    button_type: slider
                    name: Plafon lamp
                    icon: mdi:lightbulb
                    show_state: false
              - type: horizontal-stack
                cards:
                  - type: custom:bubble-card
                    card_type: button
                    entity: light.bureaulamp_fiek_light
                    button_type: slider
                    name: PC lamp
                    icon: mdi:lightbulb
                    show_state: false
                  - type: custom:bubble-card
                    card_type: button
                    entity: light.keuken_kast_led_strip_light
                    button_type: slider
                    name: Keuken lamp
                    icon: mdi:lightbulb
                    show_state: false
          - type: vertical-stack
            cards:
              - type: vertical-stack
                cards:
                  - type: custom:bubble-card
                    card_type: separator
                    name: Deuren
                    icon: mdi:door
                    styles: |
                      .separator-container {
                        color: rgba(255,255,255,0.5)
                      }
                      ha-card > div > div > div:nth-child(2) {
                        background-color: rgba(255,255,255,0.5)!important;
                      }
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-template-card
                    primary: >-
                      {% set is_door_closed =
                      is_state('binary_sensor.deur_sensor_voor_iaszone', 'off' )
                      %}Voor Deur - {{ 'dicht' if is_door_closed else 'open' }}
                    secondary: >-
                      {{
                      states['binary_sensor.deur_sensor_voor_iaszone'].last_changed
                      | relative_time }} ago  
                    icon: >-
                      {% set is_door_closed =
                      is_state('binary_sensor.deur_sensor_voor_iaszone', 'off' )
                      %} mdi:door-{{ 'closed' if is_door_closed else 'open' }}
                    icon_color: >-
                      {% set is_door_closed =
                      is_state('binary_sensor.deur_sensor_voor_iaszone', 'off' )
                      %} {{ 'grey' if is_door_closed else 'yellow' }}
                    entity: binary_sensor.deur_sensor_voor_iaszone
                    tap_action:
                      action: more-info
                  - type: custom:mushroom-template-card
                    primary: >-
                      {% set is_door_closed =
                      is_state('binary_sensor.door_connector_opened_state',
                      'off' ) %} Achter Deur - {{ 'dicht' if is_door_closed else
                      'open' }}
                    secondary: >-
                      {{
                      states['binary_sensor.door_connector_opened_state'].last_changed
                      | relative_time }} ago  
                    icon: >-
                      {% set is_door_closed =
                      is_state('binary_sensor.door_connector_opened_state',
                      'off' ) %} mdi:door-{{ 'closed' if is_door_closed else
                      'open' }}
                    icon_color: >-
                      {% set is_door_closed =
                      is_state('binary_sensor.door_connector_opened_state',
                      'off' ) %} {{ 'grey' if is_door_closed else 'yellow' }}
                    entity: binary_sensor.door_connector_opened_state
                    tap_action:
                      action: more-info
              - type: horizontal-stack
                cards:
                  - type: custom:gap-card
                  - type: custom:mushroom-template-card
                    primary: >-
                      {% set is_door_closed =
                      is_state('binary_sensor.deur_sensor_tuin_opening', 'off' )
                      %}Tuin Deur - {{ 'dicht' if is_door_closed else 'open' }}
                    secondary: >-
                      {{
                      states['binary_sensor.deur_sensor_tuin_opening'].last_changed
                      | relative_time }} ago  
                    icon: >-
                      {% set is_door_closed =
                      is_state('binary_sensor.deur_sensor_tuin_opening', 'off' )
                      %} mdi:door-{{ 'closed' if is_door_closed else 'open' }}
                    icon_color: >-
                      {% set is_door_closed =
                      is_state('binary_sensor.deur_sensor_tuin_opening', 'off' )
                      %} {{ 'grey' if is_door_closed else 'yellow' }}
                    entity: binary_sensor.deur_sensor_tuin_opening
                    tap_action:
                      action: more-info
                    fill_container: false
                    multiline_secondary: false
                    layout: horizontal
          - type: vertical-stack
            cards:
              - type: custom:bubble-card
                card_type: separator
                icon: mdi:door
                styles: |
                  .separator-container {
                    color: rgba(255,255,255,0.5)
                  }
                  ha-card > div > div > div:nth-child(2) {
                    background-color: rgba(255,255,255,0.5)!important;
                  }
                name: Temperatuur
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-entity-card
                    entity: sensor.temperature_woonkamer_temperature
                    name: Muur
                    fill_container: false
                  - type: custom:mushroom-entity-card
                    entity: sensor.inside_temperature
                    name: Toon
                    fill_container: false
              - type: custom:mushroom-climate-card
                entity: climate.thermostat
                fill_container: false
                hvac_modes: []
                collapsible_controls: false
                show_temperature_control: true
                tap_action:
                  action: more-info
                icon_type: icon
                name: Verwarming
                layout: horizontal
              - type: horizontal-stack
                cards:
                  - type: custom:mushroom-entity-card
                    entity: sensor.temperature_schuur_temperature
                    name: Schuur
                    fill_container: false
                  - type: custom:mushroom-entity-card
                    entity: sensor.outside_temperature
                    name: Buiten
                    fill_container: false
  - title: sandbox
    path: sandbox
    icon: mdi:timer-sand-paused
    badges: []
    cards:
      - type: custom:decluttering-card
        template: navigation_header
      - type: vertical-stack
        cards:
          - type: custom:uptime-card
            entity: binary_sensor.kpn_modem_ping_uptime
            hours_to_show: 48
            title_adaptive_color: true
            status_adaptive_color: true
            icon: mdi:web
            ko_icon: mdi:web-cancel
            update_interval: 30
            severity: 10
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            alias:
              ok: Connected
              ko: Disconnected
            alignment:
              icon_first: false
              tooltip_first: false
            tooltip:
              hour24: true
            bar:
              height: 20
              round: 4
          - type: custom:uptime-card
            entity: binary_sensor.internet_ping_uptime
            hours_to_show: 48
            title_adaptive_color: true
            status_adaptive_color: true
            icon: mdi:web
            ko_icon: mdi:web-cancel
            update_interval: 30
            severity: 10
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            alias:
              ok: Connected
              ko: Disconnected
            alignment:
              icon_first: false
              tooltip_first: false
            tooltip:
              hour24: true
            bar:
              height: 20
              round: 4
            title_template: Google ping
          - type: custom:uptime-card
            entity: binary_sensor.pi_hole_main_ping_uptime
            hours_to_show: 48
            title_adaptive_color: true
            status_adaptive_color: true
            icon: mdi:web
            ko_icon: mdi:web-cancel
            update_interval: 30
            severity: 10
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            alias:
              ok: Connected
              ko: Disconnected
            alignment:
              icon_first: false
              tooltip_first: false
            tooltip:
              hour24: true
            bar:
              height: 20
              round: 4
            title_template: Pi-hole Main
          - type: custom:uptime-card
            entity: binary_sensor.pi_hole_fallback_ping_uptime
            hours_to_show: 48
            title_adaptive_color: true
            status_adaptive_color: true
            icon: mdi:web
            ko_icon: mdi:web-cancel
            update_interval: 30
            severity: 10
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            alias:
              ok: Connected
              ko: Disconnected
            alignment:
              icon_first: false
              tooltip_first: false
            tooltip:
              hour24: true
            bar:
              height: 20
              round: 4
            clip: {}
            tap_action: {}
            blink: {}
            title_template: Pi-hole Fallback
          - type: custom:uptime-card
            entity: binary_sensor.cloudflare_tunnels_ping_uptime
            hours_to_show: 48
            title_adaptive_color: true
            status_adaptive_color: true
            icon: mdi:web
            ko_icon: mdi:web-cancel
            update_interval: 30
            severity: 10
            icon_adaptive_color: true
            tooltip_adaptive_color: true
            alias:
              ok: Connected
              ko: Disconnected
            alignment:
              icon_first: false
              tooltip_first: false
            tooltip:
              hour24: true
            bar:
              height: 20
              round: 4
            title_template: 'Cloudflare Tunnels '
      - type: vertical-stack
        cards:
          - type: entities
            entities:
              - entity: sensor.smartplug_blue_active_power
                name: Active power
              - entity: sensor.smartplug_blue_summation_delivered
                name: Summation delivered
            title: Dell Plug
            state_color: true
            show_header_toggle: false
          - type: entities
            entities:
              - entity: sensor.smart_plug_orange_active_power
                name: Active power
              - entity: sensor.smart_plug_orange_summation_delivered
                name: Summation delivered
              - entity: switch.smart_plug_orange_switch
                secondary_info: last-changed
                icon: ''
                name: Toggle
            title: Hp Plug
            state_color: true
            show_header_toggle: false
      - type: horizontal-stack
        cards:
          - type: custom:button-card
            aspect_ratio: 1/1.1
            entity: binary_sensor.lxc_pihole_main_210_status
            show_entity_picture: true
            show_name: false
            show_state: false
            triggers_update: all
            tap_action:
              action: navigate
              navigation_path: /dashboard-home/chantal
            custom_fields:
              memory: |
                [[[
                  var used_percentage = parseFloat(states['sensor.lxc_pihole_main_210_memory_used_percentage'].state).toFixed(2);
                  var used_value = parseFloat(states['sensor.lxc_pihole_main_210_memory_used'].state).toFixed(2);
                  var total_GB = parseFloat(states['sensor.lxc_pihole_main_210_memory_total'].state);
                  var total_MB = (total_GB * 1024).toFixed(2);
                  return `${used_percentage}%\n${used_value} MB / ${total_MB} MB`;
                ]]]
            styles:
              entity_picture:
                - top: 17%
              label:
                - font-size: 12px
              custom_fields:
                memory:
                  - position: absolute
                  - left: 1%
                  - right: 1%
                  - bottom: 3%
                  - font-size: 10px
              icon:
                - clip-path: circle()
                - width: 82%
                - border: 4px solid
                - border-radius: 50%
                - border-color: |-
                    [[[ 
                        var location = entity.state;
                        if (location == "home")
                          return "green"; 
                        if (location == "not_home")
                          return "red";
                        if (location == "Basic Fit")
                          return "darkorange";
                        if (location == "HR" || location == "Stage" || location == "Cool Blue" || location == "MOS")
                          return "deepskyblue";
                      else 
                          return "gray"]]]
          - type: custom:gap-card
      - type: custom:bar-card
        columns: 1
        entity_row: false
        title: Pi-hole main
        height: 20px
        width: 1
        decimal: 2
        entities:
          - entity: sensor.lxc_pihole_main_210_cpu_used
            name: CPU
            icon: mdi:cpu-64-bit
          - entity: sensor.lxc_pihole_main_210_memory_used_percentage
            name: RAM
            icon: mdi:brain
          - entity: sensor.lxc_pihole_main_210_disk_used_percentage
            name: Disc
            icon: mdi:harddisk
        positions:
          indicator: inside
      - type: entities
        entities:
          - entity: sensor.lxc_cloudflare_ip_restricted_215_cpu_used
          - type: custom:bar-card
            entities:
              - entity: sensor.lxc_cloudflare_ip_restricted_215_cpu_used
            positions:
              icon: 'off'
              indicator: 'off'
              value: inside
            entity_row: true
            style: |
              bar-card-value {
                font-size: 0px;
              }
              bar-card-value:after {
                content: "00:20:00";
                font-size: var(--mdc-typography-body1-font-size,1rem);
              }
      - entities:
          - entity: sensor.lxc_pihole_main_210_disk_used_percentage
        positions:
          icon: outside
          indicator: 'off'
        title: Custom CSS Layout
        type: custom:bar-card
        decimal: 2
      - type: entities
        entities:
          - entity: sensor.lxc_pihole_main_210_last_boot
          - entity: binary_sensor.lxc_pihole_main_210_status
          - type: custom:bar-card
            columns: 2
            entity_row: false
            title: Pi-hole main
            decimal: 2
            entities:
              - entity: sensor.lxc_pihole_main_210_cpu_used
                name: CPU
                icon: mdi:cpu-64-bit
              - entity: sensor.lxc_pihole_main_210_memory_used_percentage
                name: RAM
                icon: mdi:brain
              - entity: sensor.lxc_pihole_main_210_disk_used_percentage
                name: Disc
                icon: mdi:harddisk
            positions:
              indicator: inside
      - type: custom:auto-entities
        card:
          type: custom:bar-card
          icon: mdi:battery
          height: 20px
          positions:
            icon: 'off'
            indicator: inside
            name: inside
          columns: 1
        show_empty: false
        sort:
          method: state
          reverse: false
          numeric: true
        filter:
          include:
            entity_id: update.*
      - type: custom:auto-entities
        card:
          type: entities
        filter:
          include:
            - entity_id: update*
          exclude:
            - state: nee
      - type: custom:mushroom-light-card
        entity: light.group_all
        secondary_info: none
        show_brightness_control: true
        show_color_temp_control: true
        use_light_color: true
        collapsible_controls: true
        layout: vertical
        primary_info: none
        icon_type: icon
        double_tap_action:
          action: call-service
          service: light.turn_off
          data: {}
          target:
            entity_id: light.group_all
        tap_action:
          action: navigate
          navigation_path: /dashboard-home/lights
        hold_action:
          action: none
        fill_container: true
        show_color_control: true
  - title: chantal
    path: chantal
    icon: mdi:account
    type: custom:masonry-layout
    theme: buurmans-bubble-theme
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:decluttering-card
            template: navigation_header
          - type: map
            default_zoom: 13
            auto_fit: true
            entities:
              - entity: person.chantal
            hours_to_show: 48
            dark_mode: true
            title: Chantal
            aspect_ratio: '1:1.4'
  - title: Stef
    path: stef
    icon: mdi:account
    type: custom:horizontal-layout
    theme: buurmans-bubble-theme
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:decluttering-card
            template: navigation_header
          - type: map
            default_zoom: 13
            auto_fit: true
            entities:
              - entity: person.stef
            hours_to_show: 48
            dark_mode: true
            title: Stef
            aspect_ratio: '1:1.4'
  - title: Fiek
    path: fiek
    icon: mdi:account
    theme: buurmans-bubble-theme
    type: custom:horizontal-layout
    badges: []
    cards:
      - type: vertical-stack
        cards:
          - type: custom:decluttering-card
            template: navigation_header
          - type: map
            default_zoom: 13
            auto_fit: true
            entities:
              - entity: person.fiek
            hours_to_show: 48
            dark_mode: true
            title: Fiek
            aspect_ratio: '1:1.4'
